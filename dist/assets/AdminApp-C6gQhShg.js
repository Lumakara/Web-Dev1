import{j as e}from"./ui-vendor-q7wFqjOa.js";import{r as o}from"./react-core-uW5GauGR.js";import{c as ce,a as Le,B as L}from"./index-CqmKntzG.js";import{C as I,a as D,b as E,c as A,d as ie}from"./card-Bt2o_KbW.js";import{T as Oe,I as N,B as F,O as De,d as Ee,D as Be,a as $e,c as Re,b as Fe}from"./badge-DxRVC9FS.js";import{L as k}from"./label-CaugLUZh.js";import{T as Ue}from"./textarea-KdVegif3.js";import{S as Ke,a as He,b as Je,c as Ge,d as ne}from"./select-DrpIO0f_.js";import{u as Me}from"./useProducts-BqyLk0Fz.js";import{t as C}from"./notifications-Bi33bcEl.js";import{k as W,G as z,J as ze,K as Ve,R as ke,N as we,Q as Ye,Y as oe,a as Se,_ as We,$ as Xe,a0 as Ce,a1 as qe,L as Qe,d as Ze,g as ea,h as aa,a2 as sa,a3 as ge,a4 as Ie,o as ta,a5 as ia,D as na,s as ue,I as ra,S as la,a6 as ca,a7 as oa,X as da,a8 as ma}from"./icons-BdpAQ6Hm.js";import{R as he,L as ga,C as pe,X as xe,Y as be,T as je,a as ua,B as ha,b as pa}from"./charts-CXgDmgNa.js";import"./utils-CUtzRjuR.js";import"./firebase-BZSrvpf7.js";import"./appStore-DZKr_UpI.js";import"./state-BjmFXnif.js";const xa=Le("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function q({className:a,variant:t,...n}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:ce(xa({variant:t}),a),...n})}function Q({className:a,...t}){return e.jsx("div",{"data-slot":"alert-title",className:ce("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...t})}function Z({className:a,...t}){return e.jsx("div",{"data-slot":"alert-description",className:ce("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...t})}const Ae=1800*1e3,_e=5,re=900*1e3,fe="admin_activity_log",de="admin_session",me="admin_token",V="admin_session_expiry",ee="admin_login_attempts",le="admin_lockout";function Te(){const a=new Uint8Array(32);return crypto.getRandomValues(a),Array.from(a,t=>t.toString(16).padStart(2,"0")).join("")}async function ba(){try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"unknown"}catch{return"unknown"}}function ja(){const a=navigator.userAgent;let t="Desktop",n="Unknown",r="Unknown";return/Mobile|Android|iPhone|iPad|iPod/i.test(a)&&(t=/iPad|Tablet/i.test(a)?"Tablet":"Mobile"),/Chrome/i.test(a)?n="Chrome":/Firefox/i.test(a)?n="Firefox":/Safari/i.test(a)?n="Safari":/Edge/i.test(a)?n="Edge":/Opera/i.test(a)&&(n="Opera"),/Windows/i.test(a)?r="Windows":/Mac/i.test(a)?r="macOS":/Linux/i.test(a)?r="Linux":/Android/i.test(a)?r="Android":/iOS|iPhone|iPad/i.test(a)&&(r="iOS"),{device:t,browser:n,os:r}}async function fa(){try{return(await(await fetch("/src/data/admins.json")).json()).admins||[]}catch{const a=localStorage.getItem("admins_data");return a?JSON.parse(a):[]}}async function Na(a){return(await fa()).find(n=>n.email.toLowerCase()===a.toLowerCase())||null}function va(a,t){return a===t}function ya(){const a=localStorage.getItem(le);if(a){const t=parseInt(a,10);if(Date.now()<t)return{locked:!0,remainingMinutes:Math.ceil((t-Date.now())/6e4)};localStorage.removeItem(le),localStorage.removeItem(ee)}return{locked:!1,remainingMinutes:0}}function Y(a,t){const n=JSON.parse(localStorage.getItem(ee)||"[]");if(n.push({email:a,timestamp:Date.now(),success:t,ipAddress:"client"}),n.length>20&&n.shift(),localStorage.setItem(ee,JSON.stringify(n)),!t&&n.filter(d=>!d.success&&Date.now()-d.timestamp<re).length>=_e){const d=Date.now()+re;localStorage.setItem(le,d.toString())}}async function ka(a,t){const n=ya();if(n.locked)return{success:!1,message:`Akun terkunci. Coba lagi dalam ${n.remainingMinutes} menit.`};const r=await Na(a);if(!r)return Y(a,!1),{success:!1,message:"Email atau password salah."};if(!r.isActive)return Y(a,!1),{success:!1,message:"Akun tidak aktif. Hubungi super admin."};if(!va(t,r.password)){Y(a,!1);const O=JSON.parse(localStorage.getItem(ee)||"[]").filter(i=>!i.success&&Date.now()-i.timestamp<re);return{success:!1,message:`Email atau password salah. ${_e-O.length} percobaan tersisa.`}}const d=Te(),p=Date.now()+Ae,v={adminId:r.id,token:d,expiry:p,role:r.role,permissions:r.permissions};sessionStorage.setItem(de,"true"),sessionStorage.setItem(me,d),sessionStorage.setItem(V,p.toString()),sessionStorage.setItem("admin_role",r.role),sessionStorage.setItem("admin_name",r.name),sessionStorage.setItem("admin_email",r.email),sessionStorage.setItem("admin_id",r.id),Y(a,!0),await M({adminId:r.id,adminName:r.name,adminEmail:r.email,action:"LOGIN",resource:"auth"});const{device:y,browser:x,os:B}=ja();return await Oe.sendAdminLoginNotification({email:r.email,name:r.name,device:y,browser:x,os:B,userAgent:navigator.userAgent,timestamp:new Date().toISOString()}),{success:!0,message:"Login berhasil!",admin:r,session:v}}async function Pe(a){const t=sessionStorage.getItem("admin_name"),n=sessionStorage.getItem("admin_email");a&&t&&n&&await M({adminId:a,adminName:t,adminEmail:n,action:"LOGOUT",resource:"auth"}),sessionStorage.removeItem(de),sessionStorage.removeItem(me),sessionStorage.removeItem(V),sessionStorage.removeItem("admin_role"),sessionStorage.removeItem("admin_name"),sessionStorage.removeItem("admin_email"),sessionStorage.removeItem("admin_id")}function X(a,t){return a.includes("all")?!0:a.includes(t)}function ae(){const a=sessionStorage.getItem("admin_id"),t=sessionStorage.getItem("admin_name"),n=sessionStorage.getItem("admin_email"),r=sessionStorage.getItem("admin_role");return!a||!t||!n||!r?null:{id:a,name:t,email:n,role:r}}function Ne(){const a=sessionStorage.getItem(de),t=sessionStorage.getItem(me),n=sessionStorage.getItem(V);if(!a||!t||!n)return!1;const r=parseInt(n,10);return Date.now()>=r?(Pe(),!1):!0}function ve(){if(sessionStorage.getItem(V)){const t=Date.now()+Ae;sessionStorage.setItem(V,t.toString())}}async function M(a){const t=new Date().toISOString(),n=await ba(),r=navigator.userAgent,d={...a,id:Te(),timestamp:t,ipAddress:n,userAgent:r},p=JSON.parse(localStorage.getItem(fe)||"[]");p.unshift(d),p.length>1e3&&(p.length=1e3),localStorage.setItem(fe,JSON.stringify(p))}const wa={all:"Semua akses (Super Admin)","dashboard:view":"Melihat dashboard","products:view":"Melihat produk","products:create":"Menambah produk","products:edit":"Mengedit produk","products:delete":"Menghapus produk","orders:view":"Melihat pesanan","orders:edit":"Mengedit pesanan","orders:delete":"Menghapus pesanan","tickets:view":"Melihat tiket","tickets:edit":"Mengedit tiket","analytics:view":"Melihat analitik","admins:view":"Melihat admin","admins:create":"Menambah admin","admins:edit":"Mengedit admin","admins:delete":"Menghapus admin","settings:view":"Melihat pengaturan","settings:edit":"Mengedit pengaturan"},Sa={super_admin:"Super Administrator - Akses penuh ke semua fitur",admin:"Administrator - Akses ke kebanyakan fitur kecuali manajemen admin",moderator:"Moderator - Akses terbatas untuk melihat dan mengedit"};function Ca(){const a=new Uint8Array(32);return crypto.getRandomValues(a),Array.from(a,t=>t.toString(16).padStart(2,"0")).join("")}async function Ia(a){const t=window.grecaptcha;if(!t)return"";const n="6Ld29V8sAAAAAJsSwVX5--BX_Bn7zj2E08pnk8Wy";try{return await t.execute(n,{action:a})}catch{return""}}const Aa=[{id:"wifi",title:"ION Network WiFi - Internet Broadband",category:"installation",base_price:194089,discount_price:169900,stock:100,image:"https://images.unsplash.com/photo-1544197150-b99a580bb7a8?w=400",icon:"https://images.unsplash.com/photo-1544197150-b99a580bb7a8?w=200",rating:4.9,reviews:312,duration:"1-3 hari",description:"Internet Broadband ION Network dengan jangkauan luas, free kabel 200 meter, dan customer service 24/6. Harga stabil/flat, free biaya instalasi, dan bebas denda keterlambatan.",tags:["wifi","internet","broadband","unlimited"],tiers:[{name:"FLASH 60 Mbps",price:235997,features:["Up to 60 Mbps speed","Ideal untuk 6 perangkat","Free kabel 200 meter","24/6 Customer Service 088992222666","Harga stabil/flat setiap bulan","Free biaya instalasi","Bebas denda keterlambatan","Free pemutihan tagihan 6 bulan sekali","Bebas deposit","Bebas biaya sewa alat (dipinjamkan)"]},{name:"LIGHT 100 Mbps",price:285630,features:["Up to 100 Mbps speed","Ideal untuk 8-10 perangkat","Free kabel 200 meter","24/6 Customer Service 088992222666","Harga stabil/flat setiap bulan","Free biaya instalasi","Bebas denda keterlambatan","Free pemutihan tagihan 6 bulan sekali","Bebas deposit","Bebas biaya sewa alat (dipinjamkan)"]},{name:"AMAZING 150 Mbps",price:358651,features:["Up to 150 Mbps speed","Ideal untuk 15 perangkat","Free kabel 200 meter","24/6 Customer Service 088992222666","Harga stabil/flat setiap bulan","Free biaya instalasi","Bebas denda keterlambatan","Free pemutihan tagihan 6 bulan sekali","Bebas deposit","Bebas biaya sewa alat (dipinjamkan)"]},{name:"BLITZ 300 Mbps",price:526816,features:["Up to 300 Mbps speed","Ideal untuk 20-25 perangkat","Free kabel 200 meter","24/6 Customer Service 088992222666","Harga stabil/flat setiap bulan","Free biaya instalasi","Bebas denda keterlambatan","Free pemutihan tagihan 6 bulan sekali","Bebas deposit","Bebas biaya sewa alat (dipinjamkan)"]},{name:"UNIVERSE 500 Mbps",price:650770,features:["Up to 500 Mbps speed","High performance streaming","Free kabel 200 meter","24/6 Customer Service 088992222666","Harga stabil/flat setiap bulan","Free biaya instalasi","Bebas denda keterlambatan","Free pemutihan tagihan 6 bulan sekali","Bebas deposit","Bebas biaya sewa alat (dipinjamkan)"]},{name:"INFINITE 1 Gbps",price:1120999,features:["1 Gbps ultra speed","Unlimited devices","Free kabel 200 meter","24/6 Customer Service 088992222666","Harga stabil/flat setiap bulan","Free biaya instalasi","Bebas denda keterlambatan","Free pemutihan tagihan 6 bulan sekali","Bebas deposit","Bebas biaya sewa alat (dipinjamkan)"]}],related:["cctv","vps"],terms:{general:["Harga sudah termasuk PPN (11%)","Harga flat setiap bulannya (tidak ada kenaikan harga)","Free kabel s/d 200 meter, lebih dari 200 Meter ada penambahan biaya Rp 2.000/meter","Free biaya instalasi","Perangkat WiFi dipinjamkan selama berlangganan ION Network","Bayar setelah internet aktif terpasang","Estimasi pemasangan 1-3 hari setelah verifikasi","Minimal berlangganan 12 bulan"],penalty:["Denda pemutusan berlangganan dibawah 12 bulan: Rp 500.000"],payment_info:["TIDAK melakukan pembayaran melalui SALES maupun TEKNISI","Jangan menyerahkan perangkat modem tanpa ID Card dan Surat Resmi","Pembayaran pertama setelah internet aktif dipasang","Pembayaran melalui Aplikasi Member Area atau Virtual Account"]}},{id:"cctv",title:"CCTV Security System",category:"installation",base_price:199e3,discount_price:179e3,stock:50,image:"https://images.unsplash.com/photo-1557324232-b8917d3c3dcb?w=400",icon:"https://images.unsplash.com/photo-1557324232-b8917d3c3dcb?w=200",rating:4.7,reviews:89,duration:"4-6 jam",description:"Instalasi kamera keamanan lengkap dengan monitoring dan akses mobile.",tags:["security","camera","monitoring"],tiers:[{name:"Basic",price:199e3,features:["2 kamera HD","Recording dasar","Akses mobile app","Storage 1 TB"]},{name:"Standard",price:399e3,features:["4 kamera 4K","Night vision","Motion detection","Cloud backup","Storage 2 TB"]},{name:"Premium",price:699e3,features:["8 kamera 4K","AI detection","24/7 monitoring","Professional monitoring","Storage 4 TB"]}],related:["wifi","vps"]},{id:"code",title:"Code Error Repair",category:"technical",base_price:59e3,discount_price:49e3,stock:200,image:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400",icon:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=200",rating:4.9,reviews:234,duration:"1-4 jam",description:"Debugging dan optimasi kode expert untuk website dan aplikasi.",tags:["debugging","coding","development"],tiers:[{name:"Basic",price:59e3,features:["Identifikasi bug","Fix sederhana","Code review","Dokumentasi"]},{name:"Standard",price:129e3,features:["Complex debugging","Performance optimization","Security audit","Testing"]},{name:"Premium",price:249e3,features:["Full code refactoring","Architecture review","Performance tuning","Long-term support"]}],related:["vps","wifi"]},{id:"photo",title:"Photo Editing",category:"creative",base_price:29e3,discount_price:25e3,stock:150,image:"https://images.unsplash.com/photo-1542038784456-1ea8e935640e?w=400",icon:"https://images.unsplash.com/photo-1542038784456-1ea8e935640e?w=200",rating:4.6,reviews:120,duration:"1-2 hari",description:"Retouching dan enhancement gambar profesional.",tags:["photo","editing","creative"],tiers:[{name:"Basic",price:29e3,features:["Color correction","Basic retouching","Format conversion","5 revisi"]},{name:"Standard",price:79e3,features:["Advanced retouching","Background removal","Skin smoothing","Unlimited revisi"]},{name:"Premium",price:149e3,features:["High-end editing","Composite work","RAW processing","Priority delivery"]}],related:["video","code"]},{id:"video",title:"Video Editing",category:"creative",base_price:79e3,discount_price:69e3,stock:80,image:"https://images.unsplash.com/photo-1574717024653-61fd2cf4d44d?w=400",icon:"https://images.unsplash.com/photo-1574717024653-61fd2cf4d44d?w=200",rating:4.8,reviews:95,duration:"2-5 hari",description:"Editing video dan post-production profesional.",tags:["video","editing","production"],tiers:[{name:"Basic",price:79e3,features:["Basic cuts","Transitions","Audio sync","Output 1080p"]},{name:"Standard",price:199e3,features:["Color grading","Motion graphics","Sound mixing","Output 4K"]},{name:"Premium",price:399e3,features:["VFX","Animation","Professional sound design","Cinema quality"]}],related:["photo","code"]},{id:"vps",title:"VPS Hosting",category:"technical",base_price:49e3,discount_price:39e3,stock:500,image:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=400",icon:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=200",rating:4.5,reviews:180,duration:"Instant",description:"Solusi hosting Virtual Private Server.",tags:["hosting","server","infrastructure"],tiers:[{name:"Basic",price:49e3,features:["2 CPU cores","4GB RAM","50GB SSD","1TB bandwidth"]},{name:"Standard",price:99e3,features:["4 CPU cores","8GB RAM","100GB SSD","2TB bandwidth"]},{name:"Premium",price:199e3,features:["8 CPU cores","16GB RAM","200GB SSD","Unlimited bandwidth"]}],related:["wifi","code"]}],_a={products:Aa};function Za(){const[a,t]=o.useState(!1),[n,r]=o.useState("dashboard"),[d,p]=o.useState(!1),[v,y]=o.useState(""),[x,B]=o.useState(""),[O,f]=o.useState(""),[i,u]=o.useState(!1),[_,S]=o.useState(!1),[w,l]=o.useState(!1),[P,$]=o.useState(null),[U,R]=o.useState("");o.useEffect(()=>{(()=>{if(Ne()){const te=ae();te&&(t(!0),$(te.role),R(te.name),ve())}})(),Ca(),localStorage.getItem("admin_dark_mode")==="true"&&u(!0);const se=setInterval(()=>{Ne()?ve():h()},300*1e3);return()=>clearInterval(se)},[]);const K=async j=>{j.preventDefault(),f(""),l(!0);try{try{await Ia("admin_login")}catch{}await new Promise(se=>setTimeout(se,800));const T=await ka(v,x);T.success&&T.admin?(t(!0),$(T.admin.role),R(T.admin.name),C.success(`Login berhasil! Selamat datang ${T.admin.name}`)):f(T.message)}catch{f("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}},h=async()=>{const j=ae();j&&await Pe(j.id),t(!1),$(null),R(""),y(""),B(""),C.success("Logout berhasil")},H=()=>{u(!i),localStorage.setItem("admin_dark_mode",(!i).toString())},m=j=>{if(!P)return!1;if(P==="super_admin")return!0;const T=JSON.parse(sessionStorage.getItem("admin_permissions")||"[]");return X(T,j)};if(!a)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs(I,{className:"w-full max-w-md relative z-10 shadow-2xl",children:[e.jsxs(D,{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(W,{className:"h-10 w-10 text-white"})}),e.jsx(E,{className:"text-2xl",children:"Admin Login"}),e.jsx("p",{className:"text-gray-500",children:"Layanan Digital Dashboard"})]}),e.jsxs(A,{children:[e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[O&&e.jsxs("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),O]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Email Admin"}),e.jsx(N,{type:"email",placeholder:"admin@lumakara.com",value:v,onChange:j=>y(j.target.value),required:!0,disabled:w})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{type:_?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:x,onChange:j=>B(j.target.value),required:!0,disabled:w}),e.jsx("button",{type:"button",onClick:()=>S(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:_?e.jsx(ze,{className:"h-4 w-4"}):e.jsx(Ve,{className:"h-4 w-4"})})]})]}),e.jsxs(L,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-orange-500 hover:from-blue-700 hover:to-orange-600",disabled:w,children:[w?e.jsx(ke,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(we,{className:"h-4 w-4 mr-2"}),w?"Memverifikasi...":"Masuk"]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("a",{href:"/",className:"text-sm text-blue-600 hover:underline",children:"‚Üê Kembali ke Website"})})]})]})]});const s=()=>{switch(n){case"dashboard":return e.jsx(ye,{isDarkMode:i});case"products":return m("products:view")?e.jsx(Ta,{isDarkMode:i}):e.jsx(G,{});case"orders":return m("orders:view")?e.jsx(Da,{_isDarkMode:i}):e.jsx(G,{});case"tickets":return m("tickets:view")?e.jsx(Ea,{_isDarkMode:i}):e.jsx(G,{});case"analytics":return m("analytics:view")?e.jsx(Ba,{_isDarkMode:i}):e.jsx(G,{});case"admins":return m("admins:view")?e.jsx(Pa,{isDarkMode:i}):e.jsx(G,{});case"activity":return e.jsx(La,{isDarkMode:i});case"documentation":return e.jsx(Oa,{isDarkMode:i});default:return e.jsx(ye,{isDarkMode:i})}},c=[{id:"dashboard",label:"Dashboard",icon:Ye,permission:null},{id:"products",label:"Produk",icon:oe,permission:"products:view"},{id:"orders",label:"Pesanan",icon:Se,permission:"orders:view"},{id:"tickets",label:"Tiket",icon:z,permission:"tickets:view"},{id:"analytics",label:"Analitik",icon:We,permission:"analytics:view"},{id:"admins",label:"Admin",icon:Xe,permission:"admins:view"},{id:"activity",label:"Aktivitas",icon:Ce,permission:null},{id:"documentation",label:"Dokumentasi",icon:qe,permission:null}].filter(j=>!j.permission||m(j.permission)),g=i?"bg-gray-900":"bg-gray-50",b=i?"bg-gray-800 border-gray-700":"bg-white",J=i?"text-white":"text-gray-900";return e.jsxs("div",{className:`min-h-screen ${g} flex`,children:[e.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 ${b} shadow-lg transform transition-transform ${d?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static border-r`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:`font-bold ${J}`,children:"Admin Panel"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Layanan Digital"})]})]})}),e.jsx("nav",{className:"p-4 space-y-1",children:c.map(j=>{const T=j.icon;return e.jsxs("button",{onClick:()=>{r(j.id),p(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${n===j.id?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-md":i?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(T,{className:"h-5 w-5"}),e.jsx("span",{children:j.label})]},j.id)})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"mb-3 px-4",children:[e.jsx("p",{className:`text-sm font-medium ${J}`,children:U}),e.jsx(F,{variant:"outline",className:"text-xs mt-1",children:P})]}),e.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[e.jsx(Qe,{className:"h-5 w-5"}),e.jsx("span",{children:"Logout"})]})]})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>p(!1)}),e.jsxs("main",{className:"flex-1 min-w-0 overflow-auto",children:[e.jsxs("header",{className:`${i?"bg-gray-800 border-gray-700":"bg-white"} shadow-sm p-4 flex items-center justify-between border-b`,children:[e.jsx("button",{onClick:()=>p(!0),className:`lg:hidden p-2 rounded-lg ${i?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e.jsx(Ze,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Real-time"]}),e.jsx("button",{onClick:H,className:`p-2 rounded-lg ${i?"hover:bg-gray-700 text-yellow-400":"hover:bg-gray-100 text-gray-600"}`,children:i?e.jsx(ea,{className:"h-5 w-5"}):e.jsx(aa,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx(W,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("span",{className:`text-sm font-medium ${i?"text-gray-300":"text-gray-600"}`,children:U}),e.jsx("p",{className:"text-xs text-gray-400",children:P})]})]})]})]}),e.jsx("div",{className:"p-4 lg:p-6",children:s()})]})]})}function G(){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(ia,{className:"h-16 w-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Akses Ditolak"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Anda tidak memiliki izin untuk mengakses halaman ini."})]})}function ye({isDarkMode:a}){const{products:t}=Me(),[n,r]=o.useState({totalRevenue:0,totalOrders:0,totalProducts:0,totalTickets:0,pendingOrders:0,completedOrders:0,todayOrders:0,newTickets:0}),[d,p]=o.useState([]),[v,y]=o.useState(!0),[x,B]=o.useState([]),[O,f]=o.useState(new Date),i=o.useCallback(async()=>{y(!0);try{const[l,P]=await Promise.all([De.getAll(),Ee.getAll()]),$=l.reduce((s,c)=>s+c.total_amount,0),U=l.filter(s=>s.status==="pending").length,R=l.filter(s=>s.status==="completed").length,K=l.filter(s=>{const c=new Date(s.created_at||""),g=new Date;return c.toDateString()===g.toDateString()}).length,h=P.filter(s=>s.status==="open").length;r({totalRevenue:$,totalOrders:l.length,totalProducts:t.length,totalTickets:P.length,pendingOrders:U,completedOrders:R,todayOrders:K,newTickets:h}),p(l.slice(0,5)),f(new Date);const m=Array.from({length:7},(s,c)=>{const g=new Date;return g.setDate(g.getDate()-(6-c)),g}).map(s=>{const c=l.filter(g=>new Date(g.created_at||"").toDateString()===s.toDateString());return{name:s.toLocaleDateString("id-ID",{weekday:"short"}),orders:c.length,revenue:c.reduce((g,b)=>g+b.total_amount,0)}});B(m)}catch{}finally{y(!1)}},[t.length]);o.useEffect(()=>{i();const l=setInterval(i,3e4);return()=>clearInterval(l)},[i]);const u=[{title:"Total Pendapatan",value:`Rp ${n.totalRevenue.toLocaleString("id-ID")}`,icon:sa,color:"from-green-500 to-emerald-500",change:"+12%"},{title:"Total Pesanan",value:n.totalOrders.toString(),icon:Se,color:"from-blue-500 to-cyan-500",change:"+5%"},{title:"Produk",value:n.totalProducts.toString(),icon:oe,color:"from-purple-500 to-violet-500",change:"0%"},{title:"Tiket Baru",value:n.newTickets.toString(),icon:z,color:"from-orange-500 to-red-500",change:n.newTickets>0?"!":""}],_=a?"bg-gray-800 border-gray-700":"bg-white",S=a?"text-white":"text-gray-900",w=a?"text-gray-400":"text-gray-500";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${S}`,children:"Dashboard"}),e.jsxs("p",{className:w,children:["Update terakhir: ",O.toLocaleTimeString("id-ID")]})]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:i,children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((l,P)=>e.jsx(I,{className:`${_} overflow-hidden hover:shadow-lg transition-shadow`,children:e.jsxs(A,{className:"p-4",children:[e.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${l.color} rounded-lg flex items-center justify-center mb-3`,children:e.jsx(l.icon,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:`text-2xl font-bold ${S}`,children:l.value}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:`text-sm ${w}`,children:l.title}),l.change&&l.change!=="0%"&&e.jsx("span",{className:`text-xs ${l.change.includes("+")?"text-green-500":l.change==="!"?"text-red-500":"text-gray-500"}`,children:l.change})]})]})},P))}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(I,{className:_,children:[e.jsx(D,{children:e.jsx(E,{className:S,children:"Grafik Pesanan 7 Hari Terakhir"})}),e.jsx(A,{children:e.jsx(he,{width:"100%",height:200,children:e.jsxs(ga,{data:x,children:[e.jsx(pe,{strokeDasharray:"3 3",stroke:a?"#374151":"#e5e7eb"}),e.jsx(xe,{dataKey:"name",stroke:a?"#9ca3af":"#6b7280"}),e.jsx(be,{stroke:a?"#9ca3af":"#6b7280"}),e.jsx(je,{contentStyle:{backgroundColor:a?"#1f2937":"#fff",border:`1px solid ${a?"#374151":"#e5e7eb"}`,borderRadius:"8px"}}),e.jsx(ua,{type:"monotone",dataKey:"orders",stroke:"#3B82F6",strokeWidth:2})]})})})]}),e.jsxs(I,{className:_,children:[e.jsx(D,{children:e.jsx(E,{className:S,children:"Pendapatan 7 Hari Terakhir"})}),e.jsx(A,{children:e.jsx(he,{width:"100%",height:200,children:e.jsxs(ha,{data:x,children:[e.jsx(pe,{strokeDasharray:"3 3",stroke:a?"#374151":"#e5e7eb"}),e.jsx(xe,{dataKey:"name",stroke:a?"#9ca3af":"#6b7280"}),e.jsx(be,{stroke:a?"#9ca3af":"#6b7280"}),e.jsx(je,{contentStyle:{backgroundColor:a?"#1f2937":"#fff",border:`1px solid ${a?"#374151":"#e5e7eb"}`,borderRadius:"8px"}}),e.jsx(pa,{dataKey:"revenue",fill:"#10B981",radius:[4,4,0,0]})]})})})]})]}),e.jsxs(I,{className:_,children:[e.jsxs(D,{className:"flex flex-row items-center justify-between",children:[e.jsx(E,{className:S,children:"Pesanan Terbaru"}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{},children:"Lihat Semua"})]}),e.jsx(A,{children:v?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(l=>e.jsx("div",{className:`h-12 rounded animate-pulse ${a?"bg-gray-700":"bg-gray-100"}`},l))}):d.length===0?e.jsx("p",{className:`text-center py-4 ${w}`,children:"Belum ada pesanan"}):e.jsx("div",{className:"space-y-3",children:d.map(l=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${a?"bg-gray-700/50":"bg-gray-50"}`,children:[e.jsxs("div",{children:[e.jsxs("p",{className:`font-medium text-sm ${S}`,children:["#",l.id.slice(0,8)]}),e.jsx("p",{className:`text-xs ${w}`,children:new Date(l.created_at||"").toLocaleDateString("id-ID")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-bold text-sm ${S}`,children:["Rp ",l.total_amount.toLocaleString("id-ID")]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${l.status==="completed"?"bg-green-100 text-green-700":l.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:l.status})]})]},l.id))})})]})]})}function Ta({isDarkMode:a}){const[t,n]=o.useState([]),[r,d]=o.useState(""),[p,v]=o.useState(!1),[y,x]=o.useState(null),[B,O]=o.useState(!0),f=ae(),[i,u]=o.useState({title:"",category:"installation",base_price:0,stock:0,image:"",icon:"",rating:4.5,reviews:0,duration:"",description:"",tags:[],tiers:[{name:"Basic",price:0,features:[]}],related:[]}),_=f?.role==="super_admin"||X(JSON.parse(sessionStorage.getItem("admin_permissions")||"[]"),"products:create"),S=f?.role==="super_admin"||X(JSON.parse(sessionStorage.getItem("admin_permissions")||"[]"),"products:edit"),w=f?.role==="super_admin"||X(JSON.parse(sessionStorage.getItem("admin_permissions")||"[]"),"products:delete");o.useEffect(()=>{O(!0);try{n(_a.products)}catch{C.error("Gagal memuat data produk")}finally{O(!1)}},[]);const l=t.filter(s=>s.title.toLowerCase().includes(r.toLowerCase())||s.category.toLowerCase().includes(r.toLowerCase())),P=async()=>{try{if(!i.title||!i.base_price){C.error("Nama produk dan harga wajib diisi");return}if(y){const s=t.map(c=>c.id===y.id?{...c,...i,id:y.id}:c);n(s),C.success("Produk berhasil diupdate!"),await M({adminId:f?.id||"",adminName:f?.name||"",adminEmail:f?.email||"",action:"UPDATE",resource:"products",details:`Updated product: ${y.title}`})}else{const s={...i,id:Date.now().toString()};n([...t,s]),C.success("Produk berhasil ditambahkan!"),await M({adminId:f?.id||"",adminName:f?.name||"",adminEmail:f?.email||"",action:"CREATE",resource:"products",details:`Created product: ${s.title}`})}v(!1),x(null),C.info("Data disimpan sementara. Export ke JSON untuk menyimpan permanen.",{duration:5e3})}catch{C.error("Gagal menyimpan produk")}},$=async s=>{if(!w){C.error("Anda tidak memiliki izin untuk menghapus produk");return}if(confirm("Apakah Anda yakin ingin menghapus produk ini?")){const c=t.find(g=>g.id===s);n(t.filter(g=>g.id!==s)),C.success("Produk berhasil dihapus!"),c&&await M({adminId:f?.id||"",adminName:f?.name||"",adminEmail:f?.email||"",action:"DELETE",resource:"products",details:`Deleted product: ${c.title}`})}},U=()=>{const s=JSON.stringify({products:t},null,2),c=new Blob([s],{type:"application/json"}),g=URL.createObjectURL(c),b=document.createElement("a");b.href=g,b.download="products.json",document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g),C.success("File JSON berhasil diunduh!")},R=()=>{u({title:"",category:"installation",base_price:0,stock:0,image:"",icon:"",rating:4.5,reviews:0,duration:"",description:"",tags:[],tiers:[{name:"Basic",price:0,features:[]}],related:[]}),x(null)},K=a?"bg-gray-800 border-gray-700":"bg-white",h=a?"text-white":"text-gray-900",H=a?"text-gray-400":"text-gray-500",m=a?"bg-gray-800 border-gray-700 text-white":"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${h}`,children:"Kelola Produk"}),e.jsx("p",{className:H,children:"Data produk disimpan di: src/data/products.json"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",onClick:U,children:[e.jsx(na,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),_&&e.jsxs(L,{onClick:()=>{R(),v(!0)},className:"bg-blue-600",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{variant:_?"default":"secondary",children:["Create: ",_?"Yes":"No"]}),e.jsxs(F,{variant:S?"default":"secondary",children:["Edit: ",S?"Yes":"No"]}),e.jsxs(F,{variant:w?"default":"secondary",children:["Delete: ",w?"Yes":"No"]})]}),e.jsxs(q,{className:a?"bg-blue-900/30 border-blue-800":"bg-blue-50 border-blue-200",children:[e.jsx(ra,{className:"h-4 w-4 text-blue-600"}),e.jsx(Q,{className:h,children:"Informasi Penting"}),e.jsx(Z,{className:H,children:'Data produk sekarang disimpan di file JSON lokal (src/data/products.json), bukan di Firestore. Gunakan tombol "Export JSON" untuk menyimpan perubahan ke file, lalu salin isi file ke src/data/products.json. Fitur upload gambar telah dihapus - gunakan URL gambar eksternal (Unsplash, dll).'})]}),e.jsxs("div",{className:"relative",children:[e.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(N,{placeholder:"Cari produk berdasarkan nama atau kategori...",value:r,onChange:s=>d(s.target.value),className:`pl-10 ${m}`})]}),B?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(s=>e.jsx("div",{className:`h-40 rounded-lg animate-pulse ${a?"bg-gray-700":"bg-gray-100"}`},s))}):l.length===0?e.jsx(I,{className:K,children:e.jsxs(A,{className:"py-12 text-center",children:[e.jsx(oe,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:h,children:"Tidak ada produk ditemukan"}),e.jsx("p",{className:H,children:"Coba ubah kata kunci pencarian atau tambah produk baru"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(s=>e.jsx(I,{className:`${K} hover:shadow-lg transition-shadow`,children:e.jsxs(A,{className:"p-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:s.icon||s.image,alt:s.title,className:"w-20 h-20 object-cover rounded-lg bg-gray-100",onError:c=>{c.target.src="https://via.placeholder.com/150"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`font-bold truncate ${h}`,children:s.title}),e.jsx(F,{variant:"outline",className:"mt-1 text-xs",children:s.category}),e.jsxs("p",{className:"text-blue-600 font-bold mt-1",children:["Rp ",s.base_price.toLocaleString("id-ID")]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ca,{className:"h-3 w-3 text-yellow-500"}),s.rating]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["Stok: ",s.stock]})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[S&&e.jsxs(L,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{x(s),u(s),v(!0)},children:[e.jsx(oa,{className:"h-4 w-4 mr-1"}),"Edit"]}),w&&e.jsx(L,{size:"sm",variant:"destructive",onClick:()=>$(s.id),children:e.jsx(Ie,{className:"h-4 w-4"})})]})]})},s.id))}),e.jsx(Be,{open:p,onOpenChange:v,children:e.jsxs($e,{className:`max-w-2xl max-h-[90vh] overflow-auto ${a?"bg-gray-900":""}`,children:[e.jsx(Re,{children:e.jsx(Fe,{className:h,children:y?"Edit Produk":"Tambah Produk Baru"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(k,{className:h,children:"Nama Produk *"}),e.jsx(N,{value:i.title,onChange:s=>u({...i,title:s.target.value}),placeholder:"Contoh: Wi-Fi Installation Service",className:m})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Kategori *"}),e.jsxs(Ke,{value:i.category,onValueChange:s=>u({...i,category:s}),children:[e.jsx(He,{className:m,children:e.jsx(Je,{})}),e.jsxs(Ge,{children:[e.jsx(ne,{value:"installation",children:"Installation"}),e.jsx(ne,{value:"creative",children:"Creative"}),e.jsx(ne,{value:"technical",children:"Technical"})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Durasi Pengerjaan"}),e.jsx(N,{value:i.duration,onChange:s=>u({...i,duration:s.target.value}),placeholder:"Contoh: 2-3 jam",className:m})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Harga Dasar (Rp) *"}),e.jsx(N,{type:"number",value:i.base_price,onChange:s=>u({...i,base_price:Number(s.target.value)}),className:m})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Harga Diskon (Rp)"}),e.jsx(N,{type:"number",value:i.discount_price||"",onChange:s=>u({...i,discount_price:Number(s.target.value)||void 0}),placeholder:"Kosongkan jika tidak ada diskon",className:m})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Stok"}),e.jsx(N,{type:"number",value:i.stock,onChange:s=>u({...i,stock:Number(s.target.value)}),className:m})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Rating (0-5)"}),e.jsx(N,{type:"number",step:"0.1",min:"0",max:"5",value:i.rating,onChange:s=>u({...i,rating:Number(s.target.value)}),className:m})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Jumlah Review"}),e.jsx(N,{type:"number",value:i.reviews,onChange:s=>u({...i,reviews:Number(s.target.value)}),className:m})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{className:h,children:"URL Gambar Utama"}),e.jsx(N,{value:i.image,onChange:s=>u({...i,image:s.target.value}),placeholder:"https://images.unsplash.com/...",className:m}),i.image&&e.jsx("img",{src:i.image,alt:"Preview",className:"mt-2 w-full h-32 object-cover rounded-lg",onError:s=>{s.target.style.display="none"}})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"URL Ikon Produk"}),e.jsx(N,{value:i.icon,onChange:s=>u({...i,icon:s.target.value}),placeholder:"https://images.unsplash.com/...",className:m}),i.icon&&e.jsx("img",{src:i.icon,alt:"Preview",className:"mt-2 w-full h-32 object-cover rounded-lg",onError:s=>{s.target.style.display="none"}})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Deskripsi"}),e.jsx(Ue,{value:i.description,onChange:s=>u({...i,description:s.target.value}),placeholder:"Deskripsi lengkap produk...",className:m,rows:3})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Tags (pisahkan dengan koma)"}),e.jsx(N,{value:i.tags?.join(", "),onChange:s=>u({...i,tags:s.target.value.split(",").map(c=>c.trim()).filter(Boolean)}),placeholder:"network, internet, setup",className:m})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(k,{className:h,children:"Paket/Tiers"}),e.jsxs(L,{type:"button",size:"sm",variant:"outline",onClick:()=>u({...i,tiers:[...i.tiers||[],{name:"New Tier",price:0,features:[]}]}),children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),"Tambah Paket"]})]}),e.jsx("div",{className:"space-y-2",children:i.tiers?.map((s,c)=>e.jsxs("div",{className:`p-3 rounded-lg border ${a?"border-gray-700 bg-gray-800":"border-gray-200"}`,children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[e.jsx(N,{value:s.name,onChange:g=>{const b=[...i.tiers||[]];b[c]={...s,name:g.target.value},u({...i,tiers:b})},placeholder:"Nama paket",className:m}),e.jsx(N,{type:"number",value:s.price,onChange:g=>{const b=[...i.tiers||[]];b[c]={...s,price:Number(g.target.value)},u({...i,tiers:b})},placeholder:"Harga",className:m}),e.jsx(L,{type:"button",variant:"destructive",size:"sm",onClick:()=>{const g=(i.tiers||[]).filter((b,J)=>J!==c);u({...i,tiers:g})},children:e.jsx(da,{className:"h-4 w-4"})})]}),e.jsx(N,{value:s.features.join(", "),onChange:g=>{const b=[...i.tiers||[]];b[c]={...s,features:g.target.value.split(",").map(J=>J.trim()).filter(Boolean)},u({...i,tiers:b})},placeholder:"Fitur (pisahkan dengan koma)",className:m})]},c))})]}),e.jsxs("div",{children:[e.jsx(k,{className:h,children:"Produk Terkait (ID produk, pisahkan dengan koma)"}),e.jsx(N,{value:i.related?.join(", "),onChange:s=>u({...i,related:s.target.value.split(",").map(c=>c.trim()).filter(Boolean)}),placeholder:"vps, code, wifi",className:m})]}),e.jsxs(L,{onClick:P,className:"w-full",children:[e.jsx(ma,{className:"h-4 w-4 mr-2"}),y?"Simpan Perubahan":"Tambah Produk"]})]})]})})]})}function Pa({isDarkMode:a}){const t=a?"bg-gray-800 border-gray-700":"bg-white",n=a?"text-white":"text-gray-900",r=a?"text-gray-400":"text-gray-500";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${n}`,children:"Manajemen Admin"}),e.jsx("p",{className:r,children:"Kelola admin dan izin akses"})]}),e.jsxs(I,{className:t,children:[e.jsx(D,{children:e.jsx(E,{className:n,children:"Informasi Role"})}),e.jsx(A,{className:"space-y-4",children:Object.entries(Sa).map(([d,p])=>e.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(F,{variant:d==="super_admin"?"destructive":d==="admin"?"default":"secondary",children:d})}),e.jsx("p",{className:`mt-2 ${r}`,children:p})]},d))})]}),e.jsxs(I,{className:t,children:[e.jsx(D,{children:e.jsx(E,{className:n,children:"Izin Akses"})}),e.jsx(A,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(wa).map(([d,p])=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded bg-gray-100 dark:bg-gray-700",children:[e.jsx(ta,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{children:[e.jsx("code",{className:"text-xs",children:d}),e.jsx("p",{className:`text-xs ${r}`,children:p})]})]},d))})})]}),e.jsxs(q,{className:a?"bg-amber-900/30 border-amber-800":"bg-amber-50 border-amber-200",children:[e.jsx(z,{className:"h-4 w-4 text-amber-600"}),e.jsx(Q,{className:n,children:"Catatan Keamanan"}),e.jsx(Z,{className:r,children:"Data admin disimpan di file JSON lokal. Untuk mengubah data admin, edit file src/data/admins.json dan restart aplikasi."})]})]})}function La({isDarkMode:a}){const[t,n]=o.useState([]),r=ae(),d=a?"bg-gray-800 border-gray-700":"bg-white",p=a?"text-white":"text-gray-900",v=a?"text-gray-400":"text-gray-500";o.useEffect(()=>{const x=localStorage.getItem("admin_activity_log");x&&n(JSON.parse(x))},[]);const y=()=>{r?.role==="super_admin"?(localStorage.removeItem("admin_activity_log"),n([]),C.success("Log aktivitas berhasil dihapus")):C.error("Hanya super admin yang dapat menghapus log")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${p}`,children:"Log Aktivitas Admin"}),e.jsx("p",{className:v,children:"Riwayat aktivitas admin panel"})]}),r?.role==="super_admin"&&e.jsxs(L,{variant:"destructive",size:"sm",onClick:y,children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Hapus Log"]})]}),e.jsx(I,{className:d,children:e.jsx(A,{className:"p-0",children:t.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Ce,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:p,children:"Belum ada aktivitas tercatat"})]}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.slice(0,50).map(x=>e.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{variant:"outline",children:x.action}),e.jsx("span",{className:p,children:x.resource})]}),e.jsxs("p",{className:`text-sm mt-1 ${v}`,children:[x.adminName," (",x.adminEmail,")"]}),x.details&&e.jsx("p",{className:`text-sm mt-1 ${v}`,children:x.details})]}),e.jsx("span",{className:`text-xs ${v}`,children:new Date(x.timestamp).toLocaleString("id-ID")})]})},x.id))})})})]})}function Oa({isDarkMode:a}){const t=a?"text-white":"text-gray-900",n=a?"text-gray-400":"text-gray-600",r=a?"bg-gray-800 border-gray-700":"bg-white";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${t}`,children:"Dokumentasi Admin"}),e.jsx("p",{className:n,children:"Informasi penting tentang konfigurasi dan penyimpanan data"})]}),e.jsxs(I,{className:r,children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(E,{className:t,children:"Kredensial Admin"}),e.jsx(ie,{className:n,children:"Lokasi penyimpanan data login admin"})]})]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs(q,{className:a?"bg-amber-900/30 border-amber-800":"bg-amber-50 border-amber-200",children:[e.jsx(z,{className:"h-4 w-4 text-amber-600"}),e.jsx(Q,{className:t,children:"File JSON (src/data/admins.json)"}),e.jsx(Z,{className:n,children:"Kredensial admin disimpan dalam file JSON untuk keamanan."})]}),e.jsxs("div",{className:`p-4 rounded-lg font-mono text-sm ${a?"bg-gray-900":"bg-gray-100"}`,children:[e.jsx("p",{className:"text-green-600",children:"# File: src/data/admins.json"}),e.jsx("p",{className:"text-gray-500",children:"# Admin dengan berbagai role"}),e.jsx("p",{className:"text-blue-400",children:"super_admin: admin@lumakara.com / admin123"}),e.jsx("p",{className:"text-blue-400",children:"admin: manager@lumakara.com / manager123"}),e.jsx("p",{className:"text-blue-400",children:"moderator: moderator@lumakara.com / mod123"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700/50":"bg-gray-50"}`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${t}`,children:"Role yang Tersedia:"}),e.jsxs("ul",{className:`list-disc list-inside space-y-1 ${n}`,children:[e.jsxs("li",{children:[e.jsx("strong",{children:"super_admin"})," - Akses penuh ke semua fitur"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"admin"})," - Akses ke produk, pesanan, tiket, analitik"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"moderator"})," - Akses terbatas untuk melihat dan mengedit"]})]})]})]})]}),e.jsxs(I,{className:r,children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:e.jsx(we,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx(E,{className:t,children:"Fitur Keamanan"}),e.jsx(ie,{className:n,children:"Keamanan yang diimplementasikan"})]})]})}),e.jsx(A,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${t}`,children:"üõ°Ô∏è Multi-Admin Support"}),e.jsx("p",{className:n,children:"Dukungan untuk multiple admin dengan role-based access control"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${t}`,children:"üìä Activity Logging"}),e.jsx("p",{className:n,children:"Semua aktivitas admin tercatat dan dapat diaudit"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${t}`,children:"‚è±Ô∏è Rate Limiting"}),e.jsx("p",{className:n,children:"Batasan percobaan login untuk mencegah brute force"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${t}`,children:"ü§ñ reCAPTCHA v3"}),e.jsx("p",{className:n,children:"Proteksi bot dengan Google reCAPTCHA v3"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${t}`,children:"üîí CSRF Protection"}),e.jsx("p",{className:n,children:"Token CSRF untuk melindungi dari serangan CSRF"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("h4",{className:`font-semibold mb-2 ${t}`,children:"üìù XSS Prevention"}),e.jsx("p",{className:n,children:"Sanitasi input untuk mencegah XSS attacks"})]})]})})]}),e.jsxs(I,{className:r,children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:e.jsx(ge,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(E,{className:t,children:"Data Produk"}),e.jsx(ie,{className:n,children:"Lokasi penyimpanan data produk"})]})]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs(q,{className:a?"bg-green-900/30 border-green-800":"bg-green-50 border-green-200",children:[e.jsx(ge,{className:"h-4 w-4 text-green-600"}),e.jsx(Q,{className:t,children:"File JSON Lokal"}),e.jsx(Z,{className:n,children:"Data produk sekarang disimpan di file JSON lokal, bukan di Firestore."})]}),e.jsxs("div",{className:`p-4 rounded-lg font-mono text-sm ${a?"bg-gray-900":"bg-gray-100"}`,children:[e.jsx("p",{className:"text-green-600",children:"# File: src/data/products.json"}),e.jsx("p",{className:"text-gray-500",children:"# Struktur data:"}),e.jsx("p",{className:"text-blue-400",children:"{"}),e.jsx("p",{className:"text-blue-400 ml-4",children:'"products": ['}),e.jsx("p",{className:"text-blue-400 ml-8",children:"{"}),e.jsx("p",{className:"text-purple-400 ml-12",children:'"id": "wifi",'}),e.jsx("p",{className:"text-purple-400 ml-12",children:'"title": "Wi-Fi Installation Service",'}),e.jsx("p",{className:"text-purple-400 ml-12",children:'"category": "installation",'}),e.jsx("p",{className:"text-purple-400 ml-12",children:'"base_price": 89000,'}),e.jsx("p",{className:"text-purple-400 ml-12",children:'"stock": 100,'}),e.jsx("p",{className:"text-purple-400 ml-12",children:"..."}),e.jsx("p",{className:"text-blue-400 ml-8",children:"}"}),e.jsx("p",{className:"text-blue-400 ml-4",children:"]"}),e.jsx("p",{className:"text-blue-400",children:"}"})]})]})]})]})}function Da(a){return e.jsx("div",{children:"Orders Content"})}function Ea(a){return e.jsx("div",{children:"Tickets Content"})}function Ba(a){return e.jsx("div",{children:"Analytics Content"})}export{Za as default};
