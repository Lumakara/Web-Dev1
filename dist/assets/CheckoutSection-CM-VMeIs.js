var Ne=Object.defineProperty;var je=(l,n,r)=>n in l?Ne(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;var H=(l,n,r)=>je(l,typeof n!="symbol"?n+"":n,r);import{j as e}from"./ui-vendor-q7wFqjOa.js";import{r as x,L as X}from"./react-core-uW5GauGR.js";import{c as s,B as R}from"./index-CqmKntzG.js";import{C,c as M}from"./card-Bt2o_KbW.js";import{I as O,O as we,T as ke}from"./badge-DxRVC9FS.js";import{L as A}from"./label-CaugLUZh.js";import{T as ve}from"./textarea-KdVegif3.js";import{u as Pe,a as F}from"./appStore-DZKr_UpI.js";import{t as j}from"./notifications-Bi33bcEl.js";import{o as $,W,Z as B,q,A as ee,a0 as Te,w as Se,ao as Ae,X as Ie,Y as _e,U as ae,N as se,av as te,k as Ce,R as Ee,C as De}from"./icons-BdpAQ6Hm.js";import"./utils-CUtzRjuR.js";import"./firebase-BZSrvpf7.js";import"./state-BjmFXnif.js";const Re="https://app.pakasir.com",Me=()=>"https://app.pakasir.com/api",E=()=>{const l="vv887w32RJ4tTn28xDcmRaop0YYZjKA4",n="lumakara-store",a=Me(),i=[];l.length<10&&i.push("VITE_PAKASIR_API_KEY tidak valid (terlalu pendek)"),/^[a-z0-9-]+$/.test(n)||i.push("VITE_PAKASIR_PROJECT_SLUG tidak valid");const o=i.length===0;return{apiKey:l,projectSlug:n,isSandbox:!1,apiUrl:a,isValid:o,errors:i}},Oe=()=>E().isValid;class d extends Error{constructor(r,a,i){super(r);H(this,"code");H(this,"statusCode");this.name="PakasirError",this.code=a,this.statusCode=i}}const ne=async l=>{let n="Terjadi kesalahan pada pembayaran",r="UNKNOWN_ERROR";try{const o=await l.json();n=o.message||o.error||n,r=o.code||`HTTP_${l.status}`}catch{n=l.statusText||n,r=`HTTP_${l.status}`}const i={HTTP_400:"Permintaan tidak valid",HTTP_401:"API Key tidak valid",HTTP_403:"Akses ditolak",HTTP_404:"Project atau metode pembayaran tidak ditemukan",HTTP_429:"Terlalu banyak permintaan, coba lagi nanti",HTTP_500:"Server Pakasir sedang bermasalah",HTTP_502:"Server Pakasir tidak dapat diakses",HTTP_503:"Layanan Pakasir sedang maintenance",INVALID_PROJECT:"Project slug tidak valid",INVALID_API_KEY:"API key tidak valid",DUPLICATE_ORDER:"Order ID sudah pernah digunakan",INVALID_AMOUNT:"Jumlah pembayaran tidak valid",MINIMUM_AMOUNT:"Jumlah pembayaran terlalu kecil (minimal Rp 1.000)",MAXIMUM_AMOUNT:"Jumlah pembayaran terlalu besar",PAYMENT_METHOD_NOT_AVAILABLE:"Metode pembayaran tidak tersedia"}[r]||n;throw new d(i,r,l.status)};async function Fe(l){const n=E();if(!n.isValid)throw new d(`Pakasir belum dikonfigurasi: ${n.errors.join(", ")}`,"NOT_CONFIGURED");if(!l.orderId)throw new d("Order ID wajib diisi","INVALID_ORDER_ID");if(!l.amount||l.amount<1e3)throw new d("Jumlah pembayaran minimal Rp 1.000","INVALID_AMOUNT");if(!l.method)throw new d("Metode pembayaran wajib dipilih","INVALID_METHOD");try{const r=`${n.apiUrl}/transactioncreate/${l.method}`,a={project:n.projectSlug,order_id:l.orderId,amount:Math.round(l.amount),api_key:n.apiKey},i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});let o;try{const p=await i.text();if(!p||p.trim()==="")throw new d("Respons server kosong","EMPTY_RESPONSE");try{o=JSON.parse(p)}catch{throw new d(`Respons server tidak valid: ${p.substring(0,100)}`,"INVALID_JSON_RESPONSE")}}catch(p){throw p instanceof d?p:new d("Respons server tidak valid","INVALID_RESPONSE")}if(!i.ok){if(i.status===404)throw new d("Metode pembayaran tidak ditemukan. Coba QRIS atau Virtual Account lain.","PAYMENT_METHOD_NOT_FOUND",404);const p=o?.message||o?.error||"Gagal membuat pembayaran";throw new d(p,`HTTP_${i.status}`,i.status)}if(!o.payment)throw new d("Respons pembayaran tidak valid","INVALID_RESPONSE_STRUCTURE");return o.payment.payment_number||(o.payment.payment_number=l.orderId),o}catch(r){if(r instanceof d)throw r;const a=r instanceof Error?r.message:String(r);if(r instanceof TypeError&&r.message.includes("fetch"))throw new d("Tidak dapat terhubung ke server Pakasir. Periksa koneksi internet Anda.","NETWORK_ERROR");const i=a||"Gagal membuat pembayaran. Silakan coba lagi.";throw new d(i,"CREATE_FAILED")}}async function Ue(l,n){const r=E();if(!r.isValid)throw new d("Pakasir belum dikonfigurasi","NOT_CONFIGURED");try{const a=new URLSearchParams({project:r.projectSlug,amount:Math.round(n).toString(),order_id:l,api_key:r.apiKey}),i=await fetch(`${r.apiUrl}/transactiondetail?${a.toString()}`,{method:"GET",headers:{Accept:"application/json"}});return i.ok||await ne(i),await i.json()}catch(a){throw a instanceof d?a:new d("Gagal memeriksa status pembayaran","CHECK_STATUS_FAILED")}}async function Le(l,n){const r=E();if(!r.isValid)throw new d("Pakasir belum dikonfigurasi","NOT_CONFIGURED");try{const a=await fetch(`${r.apiUrl}/transactioncancel`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({project:r.projectSlug,order_id:l,amount:Math.round(n),api_key:r.apiKey})});a.ok||await ne(a)}catch(a){throw a instanceof d?a:new d("Gagal membatalkan pembayaran","CANCEL_FAILED")}}async function Ve(l,n){throw E().isValid?new d("Simulasi pembayaran hanya tersedia di mode sandbox","NOT_SANDBOX"):new d("Pakasir belum dikonfigurasi","NOT_CONFIGURED")}function le(l,n,r){const a=E();if(!a.isValid)throw new d("Pakasir belum dikonfigurasi","NOT_CONFIGURED");let o=`${Re}/pay/${a.projectSlug}/${Math.round(l)}?order_id=${encodeURIComponent(n)}&qris_only=1`;return r?.redirectUrl&&(o+=`&redirect=${encodeURIComponent(r.redirectUrl)}`),r?.customMessage&&(o+=`&message=${encodeURIComponent(r.customMessage)}`),o}function $e(l,n,r){const a=le(l,n,r),i=450,o=700,p=(window.screen.width-i)/2,P=(window.screen.height-o)/2,S=window.open(a,"PakasirPayment",`width=${i},height=${o},left=${p},top=${P},scrollbars=yes,resizable=yes`);return!S||S.closed||typeof S.closed>"u"?(window.location.href=a,null):S}const J=[{value:"qris",label:"QRIS (Semua E-Wallet)",fee:0,type:"percentage",icon:"QrCode",category:"ewallet"}];function Be(l){return J.find(r=>r.value===l)?.label||l}function ie(l,n){const i=Math.round(n*.01),o=Math.round(n*.012),p=0;return{subtotal:n,serviceFee:i,adminFee:o,paymentFee:p,total:n+i+o+p}}function Ge(l,n){return ie("qris",l).total}function Ke(){const[l,n]=x.useState(!1),[r,a]=x.useState(null),[i,o]=x.useState(null),[p,P]=x.useState(null),S=x.useCallback(async w=>{n(!0),a(null);try{const g=await Fe(w);return o(g),g}catch(g){const m=g instanceof d?g.message:"Pembayaran gagal";return a(m),j.error(m),null}finally{n(!1)}},[]),L=x.useCallback(async(w,g)=>{n(!0),a(null);try{const m=await Ue(w,g);return P(m),m}catch(m){const h=m instanceof d?m.message:"Gagal memeriksa status";return a(h),null}finally{n(!1)}},[]),I=x.useCallback(async(w,g)=>{n(!0),a(null);try{return await Le(w,g),j.success("Pembayaran berhasil dibatalkan"),!0}catch(m){const h=m instanceof d?m.message:"Gagal membatalkan";return a(h),j.error(h),!1}finally{n(!1)}},[]),_=x.useCallback(async(w,g)=>{n(!0),a(null);try{return await Ve(w,g),!0}catch(m){const h=m instanceof d?m.message:"Gagal mensimulasikan";return a(h),j.error(h),!1}finally{n(!1)}},[]),u=x.useCallback((w,g,m)=>{try{return $e(w,g,m)}catch(h){const c=h instanceof d?h.message:"Gagal membuka pembayaran";return a(c),j.error(c),null}},[]),G=x.useCallback(()=>{o(null),P(null),a(null),n(!1)},[]);return{loading:l,error:r,paymentData:i,transactionDetail:p,create:S,checkStatus:L,cancel:I,simulate:_,openPayment:u,reset:G,PAYMENT_METHODS:J,getPaymentMethodLabel:Be,getPaymentFee:ie,calculateTotal:Ge,isConfigured:Oe()}}const re=[{id:"flash",name:"FLASH",speed:"60 Mbps",price:235997,icon:B,devices:"6 perangkat"},{id:"light",name:"LIGHT",speed:"100 Mbps",price:285630,icon:W,devices:"8-10 perangkat"},{id:"amazing",name:"AMAZING",speed:"150 Mbps",price:358651,icon:B,devices:"15 perangkat"},{id:"blitz",name:"BLITZ",speed:"300 Mbps",price:526816,icon:B,devices:"20-25 perangkat"},{id:"universe",name:"UNIVERSE",speed:"500 Mbps",price:650770,icon:q,devices:"Unlimited"},{id:"infinite",name:"INFINITE",speed:"1 Gbps",price:1120999,icon:B,devices:"Unlimited"}],U="panel.lumakara.my.id";function na(){const{getSelectedItems:l,clearCart:n,user:r,isDarkMode:a}=Pe(),i=l(),o=i.reduce((t,b)=>t+b.price*b.quantity,0),{create:p,loading:P,calculateTotal:S,getPaymentFee:L}=Ke(),[I,_]=x.useState("form"),[u,G]=x.useState(null),[w,g]=x.useState(!1),m=i.some(t=>t.productId==="wifi"||t.title?.toLowerCase().includes("wi-fi")||t.title?.toLowerCase().includes("wifi")),h=i.some(t=>t.productId==="panel"||t.title?.toLowerCase().includes("pterodactyl")),[c,oe]=x.useState({fullName:r?.displayName||"",phoneNumber:"",ktpNumber:"",address:"",installationDate:"",notes:"",packageType:""}),[N,Y]=x.useState({}),[y,ce]=x.useState({username:"",password:"",confirmPassword:""}),[v,Q]=x.useState({}),[D,de]=x.useState(null),me=S(o,"qris"),z=L("qris",o);x.useEffect(()=>{i.length===0&&I!=="success"&&(window.location.href="/cart")},[i.length,I]);const V=(t,b)=>{oe(T=>({...T,[t]:b})),N[t]&&Y(T=>({...T,[t]:void 0}))},xe=()=>{const t={};return c.fullName.trim()||(t.fullName="Nama lengkap wajib diisi"),c.phoneNumber.trim()?/^[\d\s\-+()]{10,15}$/.test(c.phoneNumber.trim())||(t.phoneNumber="Nomor telepon tidak valid"):t.phoneNumber="Nomor telepon wajib diisi",c.address.trim()?c.address.trim().length<10&&(t.address="Alamat terlalu pendek (min. 10 karakter)"):t.address="Alamat lengkap wajib diisi",c.packageType||(t.packageType="Silakan pilih paket WiFi"),Y(t),Object.keys(t).length===0},K=(t,b)=>{ce(T=>({...T,[t]:b})),v[t]&&Q(T=>({...T,[t]:void 0}))},pe=()=>{const t={};return y.username.trim()?y.username.length<4?t.username="Username minimal 4 karakter":/^[a-zA-Z0-9_]+$/.test(y.username)||(t.username="Username hanya boleh huruf, angka, dan underscore"):t.username="Username wajib diisi",y.password?y.password.length<8&&(t.password="Password minimal 8 karakter"):t.password="Password wajib diisi",y.password!==y.confirmPassword&&(t.confirmPassword="Password tidak cocok"),Q(t),Object.keys(t).length===0},ue=async()=>{if(i.length===0){j.error("Keranjang kosong");return}if(m&&!xe()){j.error("Mohon lengkapi data pemasangan WiFi"),F.playRemove();return}if(h&&!pe()){j.error("Mohon lengkapi data akun Panel"),F.playRemove();return}F.playClick();const t=`ORDER-${Date.now()}`;try{const b=await p({method:"qris",orderId:t,amount:o,customerName:c.fullName||r?.displayName||"Guest",customerEmail:r?.email||""});if(!b)throw new Error("Failed to create payment");const T=m?{installation_details:{fullName:c.fullName,phoneNumber:c.phoneNumber,ktpNumber:c.ktpNumber||"",address:c.address,installationDate:c.installationDate||"Belum ditentukan",notes:c.notes||"",packageType:c.packageType}}:{},fe=h?{panel_details:{username:y.username,password:y.password,domain:U}}:{};try{await we.create({user_id:r?.uid||"guest",items:i.map(f=>({product_id:f.productId,title:f.title,tier:f.tier,price:f.price,quantity:f.quantity})),total_amount:o,status:"pending",payment_method:"qris",payment_reference:t,...T,...fe})}catch{j.warning("Pembayaran dibuat, tetapi gagal menyimpan data order. Tim kami akan menghubungi Anda.")}try{await ke.sendCheckoutNotification({user:{id:r?.uid||"guest",email:r?.email||"guest@example.com",name:r?.displayName||"Guest"},items:i.map(f=>({id:f.productId||f.id,title:f.title,tier:f.tier,quantity:f.quantity,price:f.price,image:f.image})),totalAmount:o,subtotal:o,...m&&{installationDetails:{fullName:c.fullName,phoneNumber:c.phoneNumber,address:c.address,installationDate:c.installationDate||"Belum ditentukan",notes:c.notes||"-",packageType:c.packageType}},...h&&{panelDetails:{username:y.username,domain:U}}})}catch{}const Z=L("qris",o);G({orderId:t,method:"qris",amount:o,serviceFee:Z.serviceFee,adminFee:Z.adminFee,total:b.payment.total_payment,paymentNumber:b.payment.payment_number,expiredAt:b.payment.expired_at}),h&&de({username:y.username,password:y.password,domain:U}),_("payment"),F.playSuccess(),j.success("Pembayaran berhasil dibuat!")}catch(b){j.error("Gagal membuat pembayaran: "+b.message)}},he=()=>{u?.paymentNumber&&(navigator.clipboard.writeText(u.paymentNumber),g(!0),j.success("Nomor pembayaran disalin!"),setTimeout(()=>g(!1),2e3))},ge=()=>{_("success"),F.playSuccess()},be=t=>e.jsx(te,{className:"h-5 w-5"}),ye=t=>new Date(t).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=t=>`Rp ${t.toLocaleString("id-ID")}`;return I==="success"?e.jsx("div",{className:s("min-h-screen flex items-center justify-center px-4 py-6",a?"bg-gradient-to-br from-green-900/30 to-emerald-900/30":"bg-gradient-to-br from-green-50 to-emerald-50"),children:e.jsxs(C,{className:s("w-full max-w-md text-center p-8 shadow-xl animate-fade-in-scale",a?"bg-gray-800 border-gray-700":""),children:[e.jsx("div",{className:s("w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",a?"bg-green-900/50":"bg-green-100"),children:e.jsx($,{className:"h-12 w-12 text-green-600"})}),e.jsx("h2",{className:s("text-2xl font-bold mb-2",a?"text-green-400":"text-green-600"),children:"Pembayaran Berhasil! ðŸŽ‰"}),e.jsx("p",{className:s("mb-6",a?"text-gray-300":"text-gray-600"),children:"Terima kasih telah berbelanja. Pesanan Anda sedang diproses."}),m&&e.jsxs("div",{className:s("rounded-lg p-4 mb-6 text-left",a?"bg-blue-900/30 border border-blue-800":"bg-blue-50"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"h-5 w-5 text-blue-600"}),e.jsx("p",{className:s("font-semibold",a?"text-blue-400":"text-blue-700"),children:"Informasi Pemasangan WiFi"})]}),e.jsxs("p",{className:s("text-sm",a?"text-gray-400":"text-gray-600"),children:["Tim kami akan menghubungi Anda di ",e.jsx("strong",{className:a?"text-gray-300":"",children:c.phoneNumber})," untuk konfirmasi jadwal pemasangan."]}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsxs("p",{className:a?"text-gray-400":"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Paket:"})," ",re.find(t=>t.id===c.packageType)?.name||c.packageType]}),e.jsxs("p",{className:a?"text-gray-400":"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Alamat:"})," ",c.address]})]})]}),h&&D&&e.jsxs("div",{className:s("rounded-lg p-4 mb-6 text-left",a?"bg-purple-900/30 border border-purple-800":"bg-purple-50"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(q,{className:"h-5 w-5 text-purple-600"}),e.jsx("p",{className:s("font-semibold",a?"text-purple-400":"text-purple-700"),children:"Akun Panel Pterodactyl Anda"})]}),e.jsxs("div",{className:s("p-3 rounded-lg mb-3",a?"bg-gray-800":"bg-white"),children:[e.jsx("p",{className:s("text-sm mb-1",a?"text-gray-400":"text-gray-600"),children:"Domain Panel"}),e.jsx("p",{className:s("font-mono font-medium text-lg text-purple-600",a?"text-purple-400":""),children:D.domain})]}),e.jsxs("div",{className:s("p-3 rounded-lg mb-3",a?"bg-gray-800":"bg-white"),children:[e.jsx("p",{className:s("text-sm mb-1",a?"text-gray-400":"text-gray-600"),children:"Username"}),e.jsx("p",{className:s("font-mono font-medium text-lg",a?"text-white":""),children:D.username})]}),e.jsxs("div",{className:s("p-3 rounded-lg",a?"bg-gray-800":"bg-white"),children:[e.jsx("p",{className:s("text-sm mb-1",a?"text-gray-400":"text-gray-600"),children:"Password"}),e.jsx("p",{className:s("font-mono font-medium text-lg",a?"text-white":""),children:D.password})]}),e.jsxs("p",{className:s("text-xs mt-3","text-gray-500"),children:["Simpan informasi login ini dengan aman. Panel dapat diakses di https://",D.domain]})]}),e.jsxs("div",{className:s("rounded-lg p-4 mb-6",a?"bg-gray-700":"bg-gray-50"),children:[e.jsx("p",{className:s("text-sm mb-1",a?"text-gray-400":"text-gray-500"),children:"ID Pesanan"}),e.jsx("p",{className:s("font-mono font-medium text-lg",a?"text-white":""),children:u?.orderId})]}),e.jsx(X,{to:"/",children:e.jsx(R,{className:"w-full bg-gradient-to-r from-blue-600 to-orange-500 hover:from-blue-700 hover:to-orange-600",onClick:n,children:"Kembali ke Beranda"})})]})}):I==="payment"&&u?e.jsx("div",{className:s("min-h-screen px-4 py-6",a?"bg-gradient-to-br from-gray-900 to-gray-800":"bg-gradient-to-br from-gray-50 to-gray-100"),children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("button",{onClick:()=>_("form"),className:s("p-2 rounded-full transition-colors shadow-sm",a?"hover:bg-gray-800 text-white":"hover:bg-white"),children:e.jsx(ee,{className:"h-5 w-5"})}),e.jsx("h1",{className:s("text-xl font-bold",a?"text-white":""),children:"Pembayaran"})]}),e.jsxs(C,{className:s("mb-4 shadow-lg overflow-hidden",a?"bg-gray-800 border-gray-700":""),children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white p-4 text-center",children:[e.jsx("p",{className:"text-sm text-blue-100 mb-1",children:"Selesaikan pembayaran sebelum"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5 animate-pulse"}),e.jsx("span",{className:"text-lg font-bold",children:ye(u.expiredAt)})]})]}),e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:s("w-16 h-16 mx-auto mb-3 rounded-full flex items-center justify-center",a?"bg-blue-900/30":"bg-blue-100"),children:be()}),e.jsx("h2",{className:s("font-bold text-lg",a?"text-white":""),children:J.find(t=>t.value===u.method)?.label})]}),u.method==="qris"?e.jsxs("div",{className:"p-4 rounded-xl mb-4 text-center bg-white",children:[e.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(u.paymentNumber)}`,alt:"QRIS Code",className:"w-48 h-48 mx-auto"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Scan dengan aplikasi e-wallet"})]}):e.jsxs("div",{className:s("p-4 rounded-xl mb-4",a?"bg-gray-700":"bg-gray-100"),children:[e.jsx("p",{className:s("text-sm mb-1",a?"text-gray-400":"text-gray-500"),children:"Nomor Virtual Account"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("p",{className:s("font-mono text-xl font-bold",a?"text-white":""),children:u.paymentNumber}),e.jsx("button",{onClick:he,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:w?e.jsx($,{className:"h-4 w-4 text-green-500"}):e.jsx(Se,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:s("rounded-lg p-4 mb-4",a?"bg-gray-700/50":"bg-gray-50"),children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:a?"text-gray-300":"",children:k(u.amount)})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Biaya Layanan (1%)"}),e.jsx("span",{className:a?"text-gray-300":"",children:k(u.serviceFee)})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Biaya Admin (1.2%)"}),e.jsx("span",{className:a?"text-gray-300":"",children:k(u.adminFee)})]}),e.jsx("div",{className:s("border-t my-2",a?"border-gray-600":"border-gray-200")}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:s("font-semibold",a?"text-white":""),children:"Total Pembayaran"}),e.jsx("span",{className:"font-bold text-blue-600 text-lg",children:k(u.total)})]})]}),e.jsxs("div",{className:s("p-3 rounded-lg text-sm",a?"bg-yellow-900/20 border border-yellow-800 text-yellow-200":"bg-yellow-50 text-yellow-800"),children:[e.jsx("p",{className:"font-medium mb-1",children:"Petunjuk Pembayaran:"}),u.method==="qris"?e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Buka aplikasi e-wallet (Gojek, OVO, DANA, dll)"}),e.jsx("li",{children:"Pilih menu Scan QR"}),e.jsx("li",{children:"Scan kode QR di atas"}),e.jsx("li",{children:"Konfirmasi pembayaran"})]}):e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Buka aplikasi mobile banking atau ATM"}),e.jsx("li",{children:"Pilih menu Transfer ke Virtual Account"}),e.jsx("li",{children:"Masukkan nomor VA di atas"}),e.jsx("li",{children:"Konfirmasi pembayaran"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(R,{className:"w-full bg-green-600 hover:bg-green-700 py-6 text-lg font-bold",onClick:ge,children:[e.jsx($,{className:"h-5 w-5 mr-2"}),"Saya Sudah Bayar"]}),e.jsx("a",{href:le(u.total,u.orderId,{redirectUrl:window.location.origin+"/checkout"}),target:"_blank",rel:"noopener noreferrer",className:"block w-full",children:e.jsxs(R,{variant:"outline",className:s("w-full py-6",a?"border-gray-600 hover:bg-gray-800":""),children:["Buka di Aplikasi Pakasir",e.jsx(Ae,{className:"h-4 w-4 ml-2 rotate-[-90deg]"})]})}),e.jsxs(R,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>_("form"),children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Batalkan Pembayaran"]})]})]})}):e.jsx("div",{className:s("min-h-screen px-4 py-6",a?"bg-gradient-to-br from-gray-900 to-gray-800":"bg-gradient-to-br from-gray-50 to-gray-100"),children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(X,{to:"/cart",className:s("p-2 rounded-full transition-colors shadow-sm",a?"hover:bg-gray-800 text-white":"hover:bg-white"),children:e.jsx(ee,{className:"h-5 w-5"})}),e.jsx("h1",{className:s("text-xl font-bold",a?"text-white":""),children:"Checkout"})]}),e.jsx(C,{className:s("mb-4 shadow-lg",a?"bg-gray-800 border-gray-700":""),children:e.jsxs(M,{className:"p-4",children:[e.jsx("h2",{className:s("font-semibold mb-3",a?"text-white":""),children:"Ringkasan Pesanan"}),e.jsx("div",{className:"space-y-3",children:i.map(t=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:s("text-sm font-medium",a?"text-gray-200":""),children:t.title}),e.jsxs("p",{className:s("text-xs","text-gray-500"),children:[t.tier," x",t.quantity]})]}),e.jsx("p",{className:s("text-sm font-semibold",a?"text-blue-400":""),children:k(t.price*t.quantity)})]},t.id))}),e.jsx("div",{className:s("border-t my-3",a?"border-gray-700":"")}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:s("font-semibold",a?"text-white":""),children:"Subtotal"}),e.jsx("span",{className:"font-bold text-blue-600 text-xl",children:k(o)})]})]})}),m&&e.jsx(C,{className:s("mb-4 shadow-lg border-2",a?"bg-gray-800 border-blue-800":"border-blue-200"),children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:s("w-10 h-10 rounded-full flex items-center justify-center",a?"bg-blue-900/50":"bg-blue-100"),children:e.jsx(W,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:s("font-semibold",a?"text-white":""),children:"Data Pemasangan WiFi"}),e.jsx("p",{className:s("text-xs","text-gray-500"),children:"Lengkapi data untuk pemasangan WiFi"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(A,{className:s("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(_e,{className:"h-3.5 w-3.5"}),"Pilih Paket WiFi ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:re.map(t=>{const b=t.icon;return e.jsx("button",{type:"button",onClick:()=>V("packageType",t.id),className:s("p-3 rounded-xl border-2 text-left transition-all",c.packageType===t.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":a?"border-gray-700 hover:border-gray-600 bg-gray-700/50":"border-gray-200 hover:border-blue-300 bg-white"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:s("w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",c.packageType===t.id?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600"),children:e.jsx(b,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:s("font-semibold",a?"text-white":""),children:t.name}),e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:t.speed})]}),e.jsx("p",{className:s("text-xs",a?"text-gray-400":"text-gray-500"),children:t.devices}),e.jsxs("p",{className:"text-xs font-semibold text-green-600 mt-1",children:[k(t.price),"/bulan"]})]})]})},t.id)})}),N.packageType&&e.jsx("p",{className:"text-xs text-red-500",children:N.packageType})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(A,{className:s("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(ae,{className:"h-3.5 w-3.5"}),"Nama Lengkap ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(O,{placeholder:"Masukkan nama lengkap",value:c.fullName,onChange:t=>V("fullName",t.target.value),className:s(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",N.fullName?"border-red-500":"")}),N.fullName&&e.jsx("p",{className:"text-xs text-red-500",children:N.fullName})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(A,{className:s("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:["Nomor Telepon ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(O,{type:"tel",placeholder:"Contoh: 081234567890",value:c.phoneNumber,onChange:t=>V("phoneNumber",t.target.value),className:s(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",N.phoneNumber?"border-red-500":"")}),N.phoneNumber&&e.jsx("p",{className:"text-xs text-red-500",children:N.phoneNumber})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(A,{className:s("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:["Alamat Lengkap Pemasangan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(ve,{placeholder:"Masukkan alamat lengkap pemasangan",value:c.address,onChange:t=>V("address",t.target.value),className:s("min-h-[80px] resize-none",a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",N.address?"border-red-500":"")}),N.address&&e.jsx("p",{className:"text-xs text-red-500",children:N.address})]})]})]})}),h&&e.jsx(C,{className:s("mb-4 shadow-lg border-2",a?"bg-gray-800 border-purple-800":"border-purple-200"),children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:s("w-10 h-10 rounded-full flex items-center justify-center",a?"bg-purple-900/50":"bg-purple-100"),children:e.jsx(q,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:s("font-semibold",a?"text-white":""),children:"Buat Akun Panel Pterodactyl"}),e.jsx("p",{className:s("text-xs","text-gray-500"),children:"Masukkan username dan password untuk login panel"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(A,{className:s("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(ae,{className:"h-3.5 w-3.5"}),"Username Panel ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(O,{placeholder:"Masukkan username (min. 4 karakter)",value:y.username,onChange:t=>K("username",t.target.value),className:s(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",v.username?"border-red-500":"")}),v.username&&e.jsx("p",{className:"text-xs text-red-500",children:v.username}),e.jsx("p",{className:s("text-xs","text-gray-500"),children:"Hanya huruf, angka, dan underscore (_)"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(A,{className:s("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(se,{className:"h-3.5 w-3.5"}),"Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(O,{type:"password",placeholder:"Masukkan password (min. 8 karakter)",value:y.password,onChange:t=>K("password",t.target.value),className:s(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",v.password?"border-red-500":"")}),v.password&&e.jsx("p",{className:"text-xs text-red-500",children:v.password})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(A,{className:s("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(se,{className:"h-3.5 w-3.5"}),"Konfirmasi Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(O,{type:"password",placeholder:"Ulangi password",value:y.confirmPassword,onChange:t=>K("confirmPassword",t.target.value),className:s(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",v.confirmPassword?"border-red-500":"")}),v.confirmPassword&&e.jsx("p",{className:"text-xs text-red-500",children:v.confirmPassword})]}),e.jsxs("div",{className:s("p-3 rounded-lg",a?"bg-purple-900/20":"bg-purple-50"),children:[e.jsx("p",{className:s("text-sm font-medium mb-1",a?"text-purple-400":"text-purple-700"),children:"Domain Panel Anda:"}),e.jsx("p",{className:s("font-mono text-lg font-bold",a?"text-white":"text-purple-600"),children:U}),e.jsxs("p",{className:s("text-xs mt-1",a?"text-gray-500":"text-gray-600"),children:["Panel dapat diakses di https://",U]})]})]})]})}),e.jsx(C,{className:s("mb-4 shadow-lg",a?"bg-gray-800 border-gray-700":""),children:e.jsxs(M,{className:"p-4",children:[e.jsx("h2",{className:s("font-semibold mb-3",a?"text-white":""),children:"Metode Pembayaran"}),e.jsxs("div",{className:s("flex items-center gap-3 p-4 rounded-xl border-2 border-blue-500",a?"bg-blue-900/20":"bg-blue-50"),children:[e.jsx("div",{className:s("w-12 h-12 rounded-lg flex items-center justify-center bg-blue-500 text-white"),children:e.jsx(te,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:s("font-semibold",a?"text-white":""),children:"QRIS (Semua E-Wallet)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"DANA, Gojek, OVO, LinkAja, ShopeePay, dll"}),e.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:"âœ“ Tanpa biaya tambahan"})]}),e.jsx($,{className:"h-5 w-5 text-blue-500"})]}),e.jsxs("div",{className:s("mt-4 pt-4 border-t",a?"border-gray-700":"border-gray-200"),children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:a?"text-gray-300":"",children:k(o)})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Biaya Layanan (1%)"}),e.jsx("span",{className:a?"text-gray-300":"",children:k(z.serviceFee)})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Biaya Admin (1.2%)"}),e.jsx("span",{className:a?"text-gray-300":"",children:k(z.adminFee)})]}),e.jsxs("div",{className:s("flex justify-between items-center pt-2 border-t border-dashed",a?"border-gray-600":"border-gray-300"),children:[e.jsx("span",{className:s("font-semibold",a?"text-white":""),children:"Total"}),e.jsx("span",{className:"font-bold text-blue-600 text-xl",children:k(me)})]})]})]})}),e.jsxs("div",{className:s("flex items-center gap-2 p-3 rounded-lg mb-4",a?"bg-green-900/20 text-green-400":"bg-green-50 text-green-700"),children:[e.jsx(Ce,{className:"h-5 w-5"}),e.jsx("p",{className:"text-sm",children:"Pembayaran aman & terenkripsi"})]}),e.jsxs(R,{className:"w-full bg-gradient-to-r from-blue-600 to-orange-500 hover:from-blue-700 hover:to-orange-600 py-7 text-lg font-bold shadow-xl transition-all hover:scale-[1.02] active:scale-[0.98]",onClick:ue,disabled:P,children:[P?e.jsx(Ee,{className:"h-5 w-5 mr-2 animate-spin"}):e.jsx(De,{className:"h-5 w-5 mr-2"}),P?"Memproses...":"Bayar Sekarang"]}),e.jsx("p",{className:s("text-center text-xs mt-4","text-gray-500"),children:"Dengan melanjutkan, Anda menyetujui Syarat dan Ketentuan kami"})]})})}export{na as CheckoutSection,na as default};
