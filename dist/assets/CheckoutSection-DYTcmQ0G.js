var ve=Object.defineProperty;var Pe=(l,r,n)=>r in l?ve(l,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[r]=n;var J=(l,r,n)=>Pe(l,typeof r!="symbol"?r+"":r,n);import{j as e}from"./ui-vendor-q7wFqjOa.js";import{r as x,L as ae}from"./react-core-uW5GauGR.js";import{c as t,B as O}from"./index-CL1up3YA.js";import{C as D,c as F}from"./card-Cmhyo_6H.js";import{I as U,O as Te,T as Ae}from"./badge-DJZPaMpK.js";import{L as I}from"./label-C8Dy0a63.js";import{T as _e}from"./textarea-CQ7D91hS.js";import{u as Ie,a as L}from"./appStore-DZKr_UpI.js";import{t as v}from"./notifications-Bi33bcEl.js";import{o as K,W as Y,Z as H,q as z,A as se,a0 as Se,w as Ce,ao as Ee,X as De,Y as Me,U as te,N as re,av as ne,aw as le,ax as ie,k as Re,R as Oe,C as Fe}from"./icons-Bd72YT1L.js";import"./utils-CUtzRjuR.js";import"./firebase-BZSrvpf7.js";import"./state-BjmFXnif.js";const Ue="https://app.pakasir.com",Le=()=>"https://app.pakasir.com/api",M=()=>{const l="vv887w32RJ4tTn28xDcmRaop0YYZjKA4",r="lumakara-store",a=Le(),i=[];l.length<10&&i.push("VITE_PAKASIR_API_KEY tidak valid (terlalu pendek)"),/^[a-z0-9-]+$/.test(r)||i.push("VITE_PAKASIR_PROJECT_SLUG tidak valid");const c=i.length===0;return{apiKey:l,projectSlug:r,isSandbox:!1,apiUrl:a,isValid:c,errors:i}},Be=()=>M().isValid;class d extends Error{constructor(n,a,i){super(n);J(this,"code");J(this,"statusCode");this.name="PakasirError",this.code=a,this.statusCode=i}}const oe=async l=>{let r="Terjadi kesalahan pada pembayaran",n="UNKNOWN_ERROR";try{const c=await l.json();r=c.message||c.error||r,n=c.code||`HTTP_${l.status}`}catch{r=l.statusText||r,n=`HTTP_${l.status}`}const i={HTTP_400:"Permintaan tidak valid",HTTP_401:"API Key tidak valid",HTTP_403:"Akses ditolak",HTTP_404:"Project atau metode pembayaran tidak ditemukan",HTTP_429:"Terlalu banyak permintaan, coba lagi nanti",HTTP_500:"Server Pakasir sedang bermasalah",HTTP_502:"Server Pakasir tidak dapat diakses",HTTP_503:"Layanan Pakasir sedang maintenance",INVALID_PROJECT:"Project slug tidak valid",INVALID_API_KEY:"API key tidak valid",DUPLICATE_ORDER:"Order ID sudah pernah digunakan",INVALID_AMOUNT:"Jumlah pembayaran tidak valid",MINIMUM_AMOUNT:"Jumlah pembayaran terlalu kecil (minimal Rp 1.000)",MAXIMUM_AMOUNT:"Jumlah pembayaran terlalu besar",PAYMENT_METHOD_NOT_AVAILABLE:"Metode pembayaran tidak tersedia"}[n]||r;throw new d(i,n,l.status)};async function Ve(l){const r=M();if(!r.isValid)throw new d(`Pakasir belum dikonfigurasi: ${r.errors.join(", ")}`,"NOT_CONFIGURED");if(!l.orderId)throw new d("Order ID wajib diisi","INVALID_ORDER_ID");if(!l.amount||l.amount<1e3)throw new d("Jumlah pembayaran minimal Rp 1.000","INVALID_AMOUNT");if(!l.method)throw new d("Metode pembayaran wajib dipilih","INVALID_METHOD");try{const n=`${r.apiUrl}/transactioncreate/${l.method}`,a={project:r.projectSlug,order_id:l.orderId,amount:Math.round(l.amount),api_key:r.apiKey},i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});let c;try{const u=await i.text();if(!u||u.trim()==="")throw new d("Respons server kosong","EMPTY_RESPONSE");try{c=JSON.parse(u)}catch{throw new d(`Respons server tidak valid: ${u.substring(0,100)}`,"INVALID_JSON_RESPONSE")}}catch(u){throw u instanceof d?u:new d("Respons server tidak valid","INVALID_RESPONSE")}if(!i.ok){if(i.status===404)throw new d("Metode pembayaran tidak ditemukan. Coba QRIS atau Virtual Account lain.","PAYMENT_METHOD_NOT_FOUND",404);const u=c?.message||c?.error||"Gagal membuat pembayaran";throw new d(u,`HTTP_${i.status}`,i.status)}if(!c.payment)throw new d("Respons pembayaran tidak valid","INVALID_RESPONSE_STRUCTURE");return c.payment.payment_number||(c.payment.payment_number=l.orderId),c}catch(n){if(n instanceof d)throw n;const a=n instanceof Error?n.message:String(n);if(n instanceof TypeError&&n.message.includes("fetch"))throw new d("Tidak dapat terhubung ke server Pakasir. Periksa koneksi internet Anda.","NETWORK_ERROR");const i=a||"Gagal membuat pembayaran. Silakan coba lagi.";throw new d(i,"CREATE_FAILED")}}async function $e(l,r){const n=M();if(!n.isValid)throw new d("Pakasir belum dikonfigurasi","NOT_CONFIGURED");try{const a=new URLSearchParams({project:n.projectSlug,amount:Math.round(r).toString(),order_id:l,api_key:n.apiKey}),i=await fetch(`${n.apiUrl}/transactiondetail?${a.toString()}`,{method:"GET",headers:{Accept:"application/json"}});return i.ok||await oe(i),await i.json()}catch(a){throw a instanceof d?a:new d("Gagal memeriksa status pembayaran","CHECK_STATUS_FAILED")}}async function Ge(l,r){const n=M();if(!n.isValid)throw new d("Pakasir belum dikonfigurasi","NOT_CONFIGURED");try{const a=await fetch(`${n.apiUrl}/transactioncancel`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({project:n.projectSlug,order_id:l,amount:Math.round(r),api_key:n.apiKey})});a.ok||await oe(a)}catch(a){throw a instanceof d?a:new d("Gagal membatalkan pembayaran","CANCEL_FAILED")}}async function Ke(l,r){throw M().isValid?new d("Simulasi pembayaran hanya tersedia di mode sandbox","NOT_SANDBOX"):new d("Pakasir belum dikonfigurasi","NOT_CONFIGURED")}function de(l,r,n){const a=M();if(!a.isValid)throw new d("Pakasir belum dikonfigurasi","NOT_CONFIGURED");const i=Ue,c=n?.usePayPal?"paypal":"pay";let u=`${i}/${c}/${a.projectSlug}/${Math.round(l)}?order_id=${encodeURIComponent(r)}`;return n?.qrisOnly&&(u+="&qris_only=1"),n?.redirectUrl&&(u+=`&redirect=${encodeURIComponent(n.redirectUrl)}`),n?.customMessage&&(u+=`&message=${encodeURIComponent(n.customMessage)}`),u}function He(l,r,n){const a=de(l,r,n),i=450,c=700,u=(window.screen.width-i)/2,h=(window.screen.height-c)/2,A=window.open(a,"PakasirPayment",`width=${i},height=${c},left=${u},top=${h},scrollbars=yes,resizable=yes`);return!A||A.closed||typeof A.closed>"u"?(window.location.href=a,null):A}const V=[{value:"qris",label:"QRIS (Semua E-Wallet)",fee:0,type:"percentage",icon:"QrCode",category:"ewallet"},{value:"bni_va",label:"BNI Virtual Account",fee:0,type:"percentage",icon:"Building2",category:"va"},{value:"bri_va",label:"BRI Virtual Account",fee:0,type:"percentage",icon:"Building2",category:"va"},{value:"permata_va",label:"Permata Virtual Account",fee:0,type:"percentage",icon:"Building2",category:"va"},{value:"cimb_niaga_va",label:"CIMB Niaga Virtual Account",fee:0,type:"percentage",icon:"Building2",category:"va"},{value:"maybank_va",label:"Maybank Virtual Account",fee:0,type:"percentage",icon:"Building2",category:"va"},{value:"bnc_va",label:"BNC Virtual Account",fee:0,type:"percentage",icon:"Building2",category:"va"},{value:"atm_bersama_va",label:"ATM Bersama",fee:0,type:"percentage",icon:"CreditCard",category:"va"},{value:"paypal",label:"PayPal",fee:4.4,type:"percentage",icon:"Globe",category:"international"}];function We(l){return V.find(n=>n.value===l)?.label||l}function qe(l){return V.find(r=>r.value===l)}function me(l,r){const i=Math.round(r*.01),c=Math.round(r*.012);let u=0;l==="paypal"&&(u=Math.round(r*.044)+4500);const h=qe(l);return h&&h.fee>0&&l!=="paypal"&&(h.type==="percentage"?u=Math.round(r*(h.fee/100)):u=h.fee),{subtotal:r,serviceFee:i,adminFee:c,paymentFee:u,total:r+i+c+u}}function Je(l,r){return me(r,l).total}function Ye(){const[l,r]=x.useState(!1),[n,a]=x.useState(null),[i,c]=x.useState(null),[u,h]=x.useState(null),A=x.useCallback(async m=>{r(!0),a(null);try{const b=await Ve(m);return c(b),b}catch(b){const p=b instanceof d?b.message:"Pembayaran gagal";return a(p),v.error(p),null}finally{r(!1)}},[]),$=x.useCallback(async(m,b)=>{r(!0),a(null);try{const p=await $e(m,b);return h(p),p}catch(p){const f=p instanceof d?p.message:"Gagal memeriksa status";return a(f),null}finally{r(!1)}},[]),S=x.useCallback(async(m,b)=>{r(!0),a(null);try{return await Ge(m,b),v.success("Pembayaran berhasil dibatalkan"),!0}catch(p){const f=p instanceof d?p.message:"Gagal membatalkan";return a(f),v.error(f),!1}finally{r(!1)}},[]),C=x.useCallback(async(m,b)=>{r(!0),a(null);try{return await Ke(m,b),!0}catch(p){const f=p instanceof d?p.message:"Gagal mensimulasikan";return a(f),v.error(f),!1}finally{r(!1)}},[]),k=x.useCallback((m,b,p)=>{try{return He(m,b,p)}catch(f){const _=f instanceof d?f.message:"Gagal membuka pembayaran";return a(_),v.error(_),null}},[]),W=x.useCallback(()=>{c(null),h(null),a(null),r(!1)},[]);return{loading:l,error:n,paymentData:i,transactionDetail:u,create:A,checkStatus:$,cancel:S,simulate:C,openPayment:k,reset:W,PAYMENT_METHODS:V,getPaymentMethodLabel:We,getPaymentFee:me,calculateTotal:Je,isConfigured:Be()}}const ce=[{id:"flash",name:"FLASH",speed:"60 Mbps",price:235997,icon:H,devices:"6 perangkat"},{id:"light",name:"LIGHT",speed:"100 Mbps",price:285630,icon:Y,devices:"8-10 perangkat"},{id:"amazing",name:"AMAZING",speed:"150 Mbps",price:358651,icon:H,devices:"15 perangkat"},{id:"blitz",name:"BLITZ",speed:"300 Mbps",price:526816,icon:H,devices:"20-25 perangkat"},{id:"universe",name:"UNIVERSE",speed:"500 Mbps",price:650770,icon:z,devices:"Unlimited"},{id:"infinite",name:"INFINITE",speed:"1 Gbps",price:1120999,icon:H,devices:"Unlimited"}],B="panel.lumakara.my.id";function da(){const{getSelectedItems:l,clearCart:r,user:n,isDarkMode:a}=Ie(),i=l(),c=i.reduce((s,g)=>s+g.price*g.quantity,0),{create:u,loading:h,calculateTotal:A,getPaymentFee:$}=Ye(),[S,C]=x.useState("form"),[k,W]=x.useState("qris"),[m,b]=x.useState(null),[p,f]=x.useState(!1),_=i.some(s=>s.productId==="wifi"||s.title?.toLowerCase().includes("wi-fi")||s.title?.toLowerCase().includes("wifi")),E=i.some(s=>s.productId==="panel"||s.title?.toLowerCase().includes("pterodactyl")),[o,ue]=x.useState({fullName:n?.displayName||"",phoneNumber:"",ktpNumber:"",address:"",installationDate:"",notes:"",packageType:""}),[j,Q]=x.useState({}),[y,xe]=x.useState({username:"",password:"",confirmPassword:""}),[P,Z]=x.useState({}),[R,pe]=x.useState(null),ge=A(c,k),X=$(k,c);x.useEffect(()=>{i.length===0&&S!=="success"&&(window.location.href="/cart")},[i.length,S]);const G=(s,g)=>{ue(T=>({...T,[s]:g})),j[s]&&Q(T=>({...T,[s]:void 0}))},he=()=>{const s={};return o.fullName.trim()||(s.fullName="Nama lengkap wajib diisi"),o.phoneNumber.trim()?/^[\d\s\-+()]{10,15}$/.test(o.phoneNumber.trim())||(s.phoneNumber="Nomor telepon tidak valid"):s.phoneNumber="Nomor telepon wajib diisi",o.address.trim()?o.address.trim().length<10&&(s.address="Alamat terlalu pendek (min. 10 karakter)"):s.address="Alamat lengkap wajib diisi",o.packageType||(s.packageType="Silakan pilih paket WiFi"),Q(s),Object.keys(s).length===0},q=(s,g)=>{xe(T=>({...T,[s]:g})),P[s]&&Z(T=>({...T,[s]:void 0}))},be=()=>{const s={};return y.username.trim()?y.username.length<4?s.username="Username minimal 4 karakter":/^[a-zA-Z0-9_]+$/.test(y.username)||(s.username="Username hanya boleh huruf, angka, dan underscore"):s.username="Username wajib diisi",y.password?y.password.length<8&&(s.password="Password minimal 8 karakter"):s.password="Password wajib diisi",y.password!==y.confirmPassword&&(s.confirmPassword="Password tidak cocok"),Z(s),Object.keys(s).length===0},ye=async()=>{if(i.length===0){v.error("Keranjang kosong");return}if(_&&!he()){v.error("Mohon lengkapi data pemasangan WiFi"),L.playRemove();return}if(E&&!be()){v.error("Mohon lengkapi data akun Panel"),L.playRemove();return}L.playClick();const s=`ORDER-${Date.now()}`;try{const g=await u({method:k,orderId:s,amount:c,customerName:o.fullName||n?.displayName||"Guest",customerEmail:n?.email||""});if(!g)throw new Error("Failed to create payment");const T=_?{installation_details:{fullName:o.fullName,phoneNumber:o.phoneNumber,ktpNumber:o.ktpNumber||"",address:o.address,installationDate:o.installationDate||"Belum ditentukan",notes:o.notes||"",packageType:o.packageType}}:{},ke=E?{panel_details:{username:y.username,password:y.password,domain:B}}:{};await Te.create({user_id:n?.uid||"guest",items:i.map(N=>({product_id:N.productId,title:N.title,tier:N.tier,price:N.price,quantity:N.quantity})),total_amount:c,status:"pending",payment_method:k,payment_reference:s,...T,...ke}),await Ae.sendCheckoutNotification({user:{id:n?.uid||"guest",email:n?.email||"guest@example.com",name:n?.displayName||"Guest"},items:i.map(N=>({id:N.productId||N.id,title:N.title,tier:N.tier,quantity:N.quantity,price:N.price,image:N.image})),totalAmount:c,subtotal:c,..._&&{installationDetails:{fullName:o.fullName,phoneNumber:o.phoneNumber,address:o.address,installationDate:o.installationDate||"Belum ditentukan",notes:o.notes||"-",packageType:o.packageType}},...E&&{panelDetails:{username:y.username,domain:B}}});const ee=$(k,c);b({orderId:s,method:k,amount:c,serviceFee:ee.serviceFee,adminFee:ee.adminFee,total:g.payment.total_payment,paymentNumber:g.payment.payment_number,expiredAt:g.payment.expired_at}),E&&pe({username:y.username,password:y.password,domain:B}),C("payment"),L.playSuccess(),v.success("Pembayaran berhasil dibuat!")}catch(g){v.error("Gagal membuat pembayaran: "+g.message)}},fe=()=>{m?.paymentNumber&&(navigator.clipboard.writeText(m.paymentNumber),f(!0),v.success("Nomor pembayaran disalin!"),setTimeout(()=>f(!1),2e3))},Ne=()=>{C("success"),L.playSuccess()},je=s=>s==="qris"?e.jsx(ne,{className:"h-5 w-5"}):s==="paypal"?e.jsx(le,{className:"h-5 w-5"}):e.jsx(ie,{className:"h-5 w-5"}),we=s=>new Date(s).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=s=>`Rp ${s.toLocaleString("id-ID")}`;return S==="success"?e.jsx("div",{className:t("min-h-screen flex items-center justify-center px-4 py-6",a?"bg-gradient-to-br from-green-900/30 to-emerald-900/30":"bg-gradient-to-br from-green-50 to-emerald-50"),children:e.jsxs(D,{className:t("w-full max-w-md text-center p-8 shadow-xl animate-fade-in-scale",a?"bg-gray-800 border-gray-700":""),children:[e.jsx("div",{className:t("w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",a?"bg-green-900/50":"bg-green-100"),children:e.jsx(K,{className:"h-12 w-12 text-green-600"})}),e.jsx("h2",{className:t("text-2xl font-bold mb-2",a?"text-green-400":"text-green-600"),children:"Pembayaran Berhasil! ðŸŽ‰"}),e.jsx("p",{className:t("mb-6",a?"text-gray-300":"text-gray-600"),children:"Terima kasih telah berbelanja. Pesanan Anda sedang diproses."}),_&&e.jsxs("div",{className:t("rounded-lg p-4 mb-6 text-left",a?"bg-blue-900/30 border border-blue-800":"bg-blue-50"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600"}),e.jsx("p",{className:t("font-semibold",a?"text-blue-400":"text-blue-700"),children:"Informasi Pemasangan WiFi"})]}),e.jsxs("p",{className:t("text-sm",a?"text-gray-400":"text-gray-600"),children:["Tim kami akan menghubungi Anda di ",e.jsx("strong",{className:a?"text-gray-300":"",children:o.phoneNumber})," untuk konfirmasi jadwal pemasangan."]}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsxs("p",{className:a?"text-gray-400":"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Paket:"})," ",ce.find(s=>s.id===o.packageType)?.name||o.packageType]}),e.jsxs("p",{className:a?"text-gray-400":"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Alamat:"})," ",o.address]})]})]}),E&&R&&e.jsxs("div",{className:t("rounded-lg p-4 mb-6 text-left",a?"bg-purple-900/30 border border-purple-800":"bg-purple-50"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(z,{className:"h-5 w-5 text-purple-600"}),e.jsx("p",{className:t("font-semibold",a?"text-purple-400":"text-purple-700"),children:"Akun Panel Pterodactyl Anda"})]}),e.jsxs("div",{className:t("p-3 rounded-lg mb-3",a?"bg-gray-800":"bg-white"),children:[e.jsx("p",{className:t("text-sm mb-1",a?"text-gray-400":"text-gray-600"),children:"Domain Panel"}),e.jsx("p",{className:t("font-mono font-medium text-lg text-purple-600",a?"text-purple-400":""),children:R.domain})]}),e.jsxs("div",{className:t("p-3 rounded-lg mb-3",a?"bg-gray-800":"bg-white"),children:[e.jsx("p",{className:t("text-sm mb-1",a?"text-gray-400":"text-gray-600"),children:"Username"}),e.jsx("p",{className:t("font-mono font-medium text-lg",a?"text-white":""),children:R.username})]}),e.jsxs("div",{className:t("p-3 rounded-lg",a?"bg-gray-800":"bg-white"),children:[e.jsx("p",{className:t("text-sm mb-1",a?"text-gray-400":"text-gray-600"),children:"Password"}),e.jsx("p",{className:t("font-mono font-medium text-lg",a?"text-white":""),children:R.password})]}),e.jsxs("p",{className:t("text-xs mt-3","text-gray-500"),children:["Simpan informasi login ini dengan aman. Panel dapat diakses di https://",R.domain]})]}),e.jsxs("div",{className:t("rounded-lg p-4 mb-6",a?"bg-gray-700":"bg-gray-50"),children:[e.jsx("p",{className:t("text-sm mb-1",a?"text-gray-400":"text-gray-500"),children:"ID Pesanan"}),e.jsx("p",{className:t("font-mono font-medium text-lg",a?"text-white":""),children:m?.orderId})]}),e.jsx(ae,{to:"/",children:e.jsx(O,{className:"w-full bg-gradient-to-r from-blue-600 to-orange-500 hover:from-blue-700 hover:to-orange-600",onClick:r,children:"Kembali ke Beranda"})})]})}):S==="payment"&&m?e.jsx("div",{className:t("min-h-screen px-4 py-6",a?"bg-gradient-to-br from-gray-900 to-gray-800":"bg-gradient-to-br from-gray-50 to-gray-100"),children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("button",{onClick:()=>C("form"),className:t("p-2 rounded-full transition-colors shadow-sm",a?"hover:bg-gray-800 text-white":"hover:bg-white"),children:e.jsx(se,{className:"h-5 w-5"})}),e.jsx("h1",{className:t("text-xl font-bold",a?"text-white":""),children:"Pembayaran"})]}),e.jsxs(D,{className:t("mb-4 shadow-lg overflow-hidden",a?"bg-gray-800 border-gray-700":""),children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white p-4 text-center",children:[e.jsx("p",{className:"text-sm text-blue-100 mb-1",children:"Selesaikan pembayaran sebelum"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 animate-pulse"}),e.jsx("span",{className:"text-lg font-bold",children:we(m.expiredAt)})]})]}),e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:t("w-16 h-16 mx-auto mb-3 rounded-full flex items-center justify-center",a?"bg-blue-900/30":"bg-blue-100"),children:je(m.method)}),e.jsx("h2",{className:t("font-bold text-lg",a?"text-white":""),children:V.find(s=>s.value===m.method)?.label})]}),m.method==="qris"?e.jsxs("div",{className:"p-4 rounded-xl mb-4 text-center bg-white",children:[e.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(m.paymentNumber)}`,alt:"QRIS Code",className:"w-48 h-48 mx-auto"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Scan dengan aplikasi e-wallet"})]}):e.jsxs("div",{className:t("p-4 rounded-xl mb-4",a?"bg-gray-700":"bg-gray-100"),children:[e.jsx("p",{className:t("text-sm mb-1",a?"text-gray-400":"text-gray-500"),children:"Nomor Virtual Account"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("p",{className:t("font-mono text-xl font-bold",a?"text-white":""),children:m.paymentNumber}),e.jsx("button",{onClick:fe,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:p?e.jsx(K,{className:"h-4 w-4 text-green-500"}):e.jsx(Ce,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:t("rounded-lg p-4 mb-4",a?"bg-gray-700/50":"bg-gray-50"),children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:a?"text-gray-300":"",children:w(m.amount)})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Biaya Layanan (1%)"}),e.jsx("span",{className:a?"text-gray-300":"",children:w(m.serviceFee)})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Biaya Admin (1.2%)"}),e.jsx("span",{className:a?"text-gray-300":"",children:w(m.adminFee)})]}),e.jsx("div",{className:t("border-t my-2",a?"border-gray-600":"border-gray-200")}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:t("font-semibold",a?"text-white":""),children:"Total Pembayaran"}),e.jsx("span",{className:"font-bold text-blue-600 text-lg",children:w(m.total)})]})]}),e.jsxs("div",{className:t("p-3 rounded-lg text-sm",a?"bg-yellow-900/20 border border-yellow-800 text-yellow-200":"bg-yellow-50 text-yellow-800"),children:[e.jsx("p",{className:"font-medium mb-1",children:"Petunjuk Pembayaran:"}),m.method==="qris"?e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Buka aplikasi e-wallet (Gojek, OVO, DANA, dll)"}),e.jsx("li",{children:"Pilih menu Scan QR"}),e.jsx("li",{children:"Scan kode QR di atas"}),e.jsx("li",{children:"Konfirmasi pembayaran"})]}):e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Buka aplikasi mobile banking atau ATM"}),e.jsx("li",{children:"Pilih menu Transfer ke Virtual Account"}),e.jsx("li",{children:"Masukkan nomor VA di atas"}),e.jsx("li",{children:"Konfirmasi pembayaran"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(O,{className:"w-full bg-green-600 hover:bg-green-700 py-6 text-lg font-bold",onClick:Ne,children:[e.jsx(K,{className:"h-5 w-5 mr-2"}),"Saya Sudah Bayar"]}),e.jsx("a",{href:de(m.total,m.orderId,{qrisOnly:m.method==="qris",redirectUrl:window.location.origin+"/checkout"}),target:"_blank",rel:"noopener noreferrer",className:"block w-full",children:e.jsxs(O,{variant:"outline",className:t("w-full py-6",a?"border-gray-600 hover:bg-gray-800":""),children:["Buka di Aplikasi Pakasir",e.jsx(Ee,{className:"h-4 w-4 ml-2 rotate-[-90deg]"})]})}),e.jsxs(O,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>C("form"),children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Batalkan Pembayaran"]})]})]})}):e.jsx("div",{className:t("min-h-screen px-4 py-6",a?"bg-gradient-to-br from-gray-900 to-gray-800":"bg-gradient-to-br from-gray-50 to-gray-100"),children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ae,{to:"/cart",className:t("p-2 rounded-full transition-colors shadow-sm",a?"hover:bg-gray-800 text-white":"hover:bg-white"),children:e.jsx(se,{className:"h-5 w-5"})}),e.jsx("h1",{className:t("text-xl font-bold",a?"text-white":""),children:"Checkout"})]}),e.jsx(D,{className:t("mb-4 shadow-lg",a?"bg-gray-800 border-gray-700":""),children:e.jsxs(F,{className:"p-4",children:[e.jsx("h2",{className:t("font-semibold mb-3",a?"text-white":""),children:"Ringkasan Pesanan"}),e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:t("text-sm font-medium",a?"text-gray-200":""),children:s.title}),e.jsxs("p",{className:t("text-xs","text-gray-500"),children:[s.tier," x",s.quantity]})]}),e.jsx("p",{className:t("text-sm font-semibold",a?"text-blue-400":""),children:w(s.price*s.quantity)})]},s.id))}),e.jsx("div",{className:t("border-t my-3",a?"border-gray-700":"")}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:t("font-semibold",a?"text-white":""),children:"Subtotal"}),e.jsx("span",{className:"font-bold text-blue-600 text-xl",children:w(c)})]})]})}),_&&e.jsx(D,{className:t("mb-4 shadow-lg border-2",a?"bg-gray-800 border-blue-800":"border-blue-200"),children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:t("w-10 h-10 rounded-full flex items-center justify-center",a?"bg-blue-900/50":"bg-blue-100"),children:e.jsx(Y,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:t("font-semibold",a?"text-white":""),children:"Data Pemasangan WiFi"}),e.jsx("p",{className:t("text-xs","text-gray-500"),children:"Lengkapi data untuk pemasangan WiFi"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(I,{className:t("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(Me,{className:"h-3.5 w-3.5"}),"Pilih Paket WiFi ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:ce.map(s=>{const g=s.icon;return e.jsx("button",{type:"button",onClick:()=>G("packageType",s.id),className:t("p-3 rounded-xl border-2 text-left transition-all",o.packageType===s.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":a?"border-gray-700 hover:border-gray-600 bg-gray-700/50":"border-gray-200 hover:border-blue-300 bg-white"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:t("w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",o.packageType===s.id?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600"),children:e.jsx(g,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:t("font-semibold",a?"text-white":""),children:s.name}),e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:s.speed})]}),e.jsx("p",{className:t("text-xs",a?"text-gray-400":"text-gray-500"),children:s.devices}),e.jsxs("p",{className:"text-xs font-semibold text-green-600 mt-1",children:[w(s.price),"/bulan"]})]})]})},s.id)})}),j.packageType&&e.jsx("p",{className:"text-xs text-red-500",children:j.packageType})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(I,{className:t("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(te,{className:"h-3.5 w-3.5"}),"Nama Lengkap ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(U,{placeholder:"Masukkan nama lengkap",value:o.fullName,onChange:s=>G("fullName",s.target.value),className:t(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",j.fullName?"border-red-500":"")}),j.fullName&&e.jsx("p",{className:"text-xs text-red-500",children:j.fullName})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(I,{className:t("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:["Nomor Telepon ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(U,{type:"tel",placeholder:"Contoh: 081234567890",value:o.phoneNumber,onChange:s=>G("phoneNumber",s.target.value),className:t(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",j.phoneNumber?"border-red-500":"")}),j.phoneNumber&&e.jsx("p",{className:"text-xs text-red-500",children:j.phoneNumber})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(I,{className:t("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:["Alamat Lengkap Pemasangan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_e,{placeholder:"Masukkan alamat lengkap pemasangan",value:o.address,onChange:s=>G("address",s.target.value),className:t("min-h-[80px] resize-none",a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",j.address?"border-red-500":"")}),j.address&&e.jsx("p",{className:"text-xs text-red-500",children:j.address})]})]})]})}),E&&e.jsx(D,{className:t("mb-4 shadow-lg border-2",a?"bg-gray-800 border-purple-800":"border-purple-200"),children:e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:t("w-10 h-10 rounded-full flex items-center justify-center",a?"bg-purple-900/50":"bg-purple-100"),children:e.jsx(z,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:t("font-semibold",a?"text-white":""),children:"Buat Akun Panel Pterodactyl"}),e.jsx("p",{className:t("text-xs","text-gray-500"),children:"Masukkan username dan password untuk login panel"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(I,{className:t("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(te,{className:"h-3.5 w-3.5"}),"Username Panel ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(U,{placeholder:"Masukkan username (min. 4 karakter)",value:y.username,onChange:s=>q("username",s.target.value),className:t(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",P.username?"border-red-500":"")}),P.username&&e.jsx("p",{className:"text-xs text-red-500",children:P.username}),e.jsx("p",{className:t("text-xs","text-gray-500"),children:"Hanya huruf, angka, dan underscore (_)"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(I,{className:t("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(re,{className:"h-3.5 w-3.5"}),"Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(U,{type:"password",placeholder:"Masukkan password (min. 8 karakter)",value:y.password,onChange:s=>q("password",s.target.value),className:t(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",P.password?"border-red-500":"")}),P.password&&e.jsx("p",{className:"text-xs text-red-500",children:P.password})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(I,{className:t("flex items-center gap-1.5 text-sm font-medium",a?"text-gray-200":""),children:[e.jsx(re,{className:"h-3.5 w-3.5"}),"Konfirmasi Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(U,{type:"password",placeholder:"Ulangi password",value:y.confirmPassword,onChange:s=>q("confirmPassword",s.target.value),className:t(a?"bg-gray-700 border-gray-600 text-white placeholder:text-gray-500":"",P.confirmPassword?"border-red-500":"")}),P.confirmPassword&&e.jsx("p",{className:"text-xs text-red-500",children:P.confirmPassword})]}),e.jsxs("div",{className:t("p-3 rounded-lg",a?"bg-purple-900/20":"bg-purple-50"),children:[e.jsx("p",{className:t("text-sm font-medium mb-1",a?"text-purple-400":"text-purple-700"),children:"Domain Panel Anda:"}),e.jsx("p",{className:t("font-mono text-lg font-bold",a?"text-white":"text-purple-600"),children:B}),e.jsxs("p",{className:t("text-xs mt-1",a?"text-gray-500":"text-gray-600"),children:["Panel dapat diakses di https://",B]})]})]})]})}),e.jsx(D,{className:t("mb-4 shadow-lg",a?"bg-gray-800 border-gray-700":""),children:e.jsxs(F,{className:"p-4",children:[e.jsx("h2",{className:t("font-semibold mb-3",a?"text-white":""),children:"Metode Pembayaran"}),e.jsx("div",{className:"space-y-2",children:V.map(s=>e.jsxs("button",{onClick:()=>W(s.value),className:t("w-full flex items-center gap-3 p-3 rounded-xl border-2 transition-all",k===s.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":a?"border-gray-700 hover:border-gray-600":"border-gray-200 hover:border-gray-300"),children:[e.jsxs("div",{className:t("w-10 h-10 rounded-lg flex items-center justify-center",k===s.value?"bg-blue-500 text-white":a?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-500"),children:[s.value==="qris"&&e.jsx(ne,{className:"h-5 w-5"}),s.value==="paypal"&&e.jsx(le,{className:"h-5 w-5"}),!["qris","paypal"].includes(s.value)&&e.jsx(ie,{className:"h-5 w-5"})]}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:t("font-medium",a?"text-white":""),children:s.label}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Biaya: ",s.fee>0?w(s.fee):"Gratis"]})]}),k===s.value&&e.jsx(K,{className:"h-5 w-5 text-blue-500"})]},s.value))}),e.jsxs("div",{className:t("mt-4 pt-4 border-t",a?"border-gray-700":"border-gray-200"),children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:a?"text-gray-300":"",children:w(c)})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Biaya Layanan (1%)"}),e.jsx("span",{className:a?"text-gray-300":"",children:w(X.serviceFee)})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:a?"text-gray-400":"text-gray-600",children:"Biaya Admin (1.2%)"}),e.jsx("span",{className:a?"text-gray-300":"",children:w(X.adminFee)})]}),e.jsxs("div",{className:t("flex justify-between items-center pt-2 border-t border-dashed",a?"border-gray-600":"border-gray-300"),children:[e.jsx("span",{className:t("font-semibold",a?"text-white":""),children:"Total"}),e.jsx("span",{className:"font-bold text-blue-600 text-xl",children:w(ge)})]})]})]})}),e.jsxs("div",{className:t("flex items-center gap-2 p-3 rounded-lg mb-4",a?"bg-green-900/20 text-green-400":"bg-green-50 text-green-700"),children:[e.jsx(Re,{className:"h-5 w-5"}),e.jsx("p",{className:"text-sm",children:"Pembayaran aman & terenkripsi"})]}),e.jsxs(O,{className:"w-full bg-gradient-to-r from-blue-600 to-orange-500 hover:from-blue-700 hover:to-orange-600 py-7 text-lg font-bold shadow-xl transition-all hover:scale-[1.02] active:scale-[0.98]",onClick:ye,disabled:h,children:[h?e.jsx(Oe,{className:"h-5 w-5 mr-2 animate-spin"}):e.jsx(Fe,{className:"h-5 w-5 mr-2"}),h?"Memproses...":"Bayar Sekarang"]}),e.jsx("p",{className:t("text-center text-xs mt-4","text-gray-500"),children:"Dengan melanjutkan, Anda menyetujui Syarat dan Ketentuan kami"})]})})}export{da as CheckoutSection,da as default};
